var Ze=Object.defineProperty;var he=x=>{throw TypeError(x)};var tn=(x,r,g)=>r in x?Ze(x,r,{enumerable:!0,configurable:!0,writable:!0,value:g}):x[r]=g;var ot=(x,r,g)=>tn(x,typeof r!="symbol"?r+"":r,g),ve=(x,r,g)=>r.has(x)||he("Cannot "+g);var c=(x,r,g)=>(ve(x,r,"read from private field"),g?g.call(x):r.get(x)),N=(x,r,g)=>r.has(x)?he("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(x):r.set(x,g),U=(x,r,g,G)=>(ve(x,r,"write to private field"),G?G.call(x,g):r.set(x,g),g);(function(){"use strict";var st,m,P,M,j,Q,S,_t,X,it;let x=class{static toI8Slice(t,e,n,_){new Int8Array(t.buffer,n,_).set(e,0)}static toI8Array(t,e,n,_){const i=new Int8Array(t.buffer,e,n);_.set(i,0)}static toI16Slice(t,e,n,_){new Int16Array(t.buffer,n,_).set(e,0)}static toI16Array(t,e,n,_){const i=new Int16Array(t.buffer,e,n);_.set(i,0)}static toI32Slice(t,e,n,_){new Int32Array(t.buffer,n,_).set(e,0)}static toI32Array(t,e,n,_){const i=new Int32Array(t.buffer,e,n);_.set(i,0)}static toU8Slice(t,e,n,_){new Uint8Array(t.buffer,n,_).set(e,0)}static toU8Array(t,e,n,_){const i=new Uint8Array(t.buffer,e,n);_.set(i,0)}static toU8CSlice(t,e,n,_){new Uint8ClampedArray(t.buffer,n,_).set(e,0)}static toU8CArray(t,e,n,_){const i=new Uint8ClampedArray(t.buffer,e,n);_.set(i,0)}static toU16Slice(t,e,n,_){new Uint16Array(t.buffer,n,_).set(e,0)}static toU16Array(t,e,n,_){const i=new Uint16Array(t.buffer,e,n);_.set(i,0)}static toU32Slice(t,e,n,_){new Uint32Array(t.buffer,n,_).set(e,0)}static toU32Array(t,e,n,_){const i=new Uint32Array(t.buffer,e,n);_.set(i,0)}static toF32Slice(t,e,n,_){new Float32Array(t.buffer,n,_).set(e,0)}static toF32Array(t,e,n,_){const i=new Float32Array(t.buffer,e,n);_.set(i,0)}static toF64Slice(t,e,n,_){new Float64Array(t.buffer,n,_).set(e,0)}static toF64Array(t,e,n,_){const i=new Float64Array(t.buffer,e,n);_.set(i,0)}static toBigInt64Slice(t,e,n,_){new BigInt64Array(t.buffer,n,_).set(e,0)}static toBigInt64Array(t,e,n,_){const i=new BigInt64Array(t.buffer,e,n);_.set(i,0)}static toBigUint64Slice(t,e,n,_){new BigUint64Array(t.buffer,n,_).set(e,0)}static toBigUint64Array(t,e,n,_){const i=new BigUint64Array(t.buffer,e,n);_.set(i,0)}},r,g=0,G=null;function Z(){return(G===null||G.byteLength===0)&&(G=new Uint8Array(r.memory.buffer)),G}const at=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ie=typeof at.encodeInto=="function"?function(s,t){return at.encodeInto(s,t)}:function(s,t){const e=at.encode(s);return t.set(e),{read:s.length,written:e.length}};function l(s,t,e){if(e===void 0){const u=at.encode(s),o=t(u.length,1)>>>0;return Z().subarray(o,o+u.length).set(u),g=u.length,o}let n=s.length,_=t(n,1)>>>0;const i=Z();let a=0;for(;a<n;a++){const u=s.charCodeAt(a);if(u>127)break;i[_+a]=u}if(a!==n){a!==0&&(s=s.slice(a)),_=e(_,n,n=a+s.length*3,1)>>>0;const u=Z().subarray(_+a,_+n),o=Ie(s,u);a+=o.written,_=e(_,n,a,1)>>>0}return g=a,_}let E=null;function k(){return(E===null||E.buffer.detached===!0||E.buffer.detached===void 0&&E.buffer!==r.memory.buffer)&&(E=new DataView(r.memory.buffer)),E}const Ht=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Ht.decode();function p(s,t){return s=s>>>0,Ht.decode(Z().subarray(s,s+t))}function O(s){const t=r.__externref_table_alloc();return r.__wbindgen_export_4.set(t,s),t}function y(s,t){try{return s.apply(this,t)}catch(e){const n=O(e);r.__wbindgen_exn_store(n)}}function b(s){return s==null}function ct(s,t){return s=s>>>0,Z().subarray(s/1,s/1+t)}function W(s,t){s=s>>>0;const e=k(),n=[];for(let _=s;_<s+4*t;_+=4)n.push(r.__wbindgen_export_4.get(e.getUint32(_,!0)));return r.__externref_drop_slice(s,t),n}const $t=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>{r.__wbindgen_export_7.get(s.dtor)(s.a,s.b)});function gt(s,t,e,n){const _={a:s,b:t,cnt:1,dtor:e},i=(...a)=>{_.cnt++;const u=_.a;_.a=0;try{return n(u,_.b,...a)}finally{--_.cnt===0?(r.__wbindgen_export_7.get(_.dtor)(u,_.b),$t.unregister(_)):_.a=u}};return i.original=_,$t.register(i,_,_),i}function ft(s){const t=typeof s;if(t=="number"||t=="boolean"||s==null)return`${s}`;if(t=="string")return`"${s}"`;if(t=="symbol"){const _=s.description;return _==null?"Symbol":`Symbol(${_})`}if(t=="function"){const _=s.name;return typeof _=="string"&&_.length>0?`Function(${_})`:"Function"}if(Array.isArray(s)){const _=s.length;let i="[";_>0&&(i+=ft(s[0]));for(let a=1;a<_;a++)i+=", "+ft(s[a]);return i+="]",i}const e=/\[object ([^\]]+)\]/.exec(toString.call(s));let n;if(e&&e.length>1)n=e[1];else return toString.call(s);if(n=="Object")try{return"Object("+JSON.stringify(s)+")"}catch{return"Object"}return s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:n}function A(s,t){const e=t(s.length*4,4)>>>0;for(let n=0;n<s.length;n++){const _=O(s[n]);k().setUint32(e+4*n,_,!0)}return g=s.length,e}function I(s,t){if(!(s instanceof t))throw new Error(`expected instance of ${t.name}`)}function h(s){const t=r.__wbindgen_export_4.get(s);return r.__externref_table_dealloc(s),t}function Se(s,t,e){const n=l(s,r.__wbindgen_malloc,r.__wbindgen_realloc),_=g,i=r.verifySignedWithPublicKey(n,_,t,e);if(i[1])throw h(i[0])}function xe(s,t,e,n,_,i,a,u){const o=l(s,r.__wbindgen_malloc,r.__wbindgen_realloc),d=g,f=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),v=g;var R=b(n)?0:l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),F=g,q=b(i)?0:l(i,r.__wbindgen_malloc,r.__wbindgen_realloc),J=g;let pt=0;return b(u)||(I(u,ce),pt=u.__destroy_into_raw()),r.createClient(o,d,f,v,e,R,F,b(_)?0:O(_),q,J,b(a)?3:(Be.indexOf(a)+1||3)-1,pt)}function ke(s,t){const e=l(s,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.getInboxIdForIdentifier(e,n,t)}function Ae(s){let t,e;try{const i=r.generateInboxId(s);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}function Me(s,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hc094ec3bdf8c16b7(s,t)}function Fe(s,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h0eb99f8c2f057fcc(s,t)}function De(s,t,e){r.closure4487_externref_shim(s,t,e)}function Pe(s,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h232599d7dcf89d52(s,t)}function Re(s,t,e,n){r.closure5463_externref_shim(s,t,e,n)}const bt=Object.freeze({Dm:0,0:"Dm",Group:1,1:"Group",Sync:2,2:"Sync"}),Te=Object.freeze({Default:0,0:"Default",AdminOnly:1,1:"AdminOnly",CustomPolicy:2,2:"CustomPolicy"}),Be=["enabled","disabled"],mt=["off","error","warn","info","debug","trace"],ze=["omit","same-origin","include"],Ne=["same-origin","no-cors","cors","navigate"],Vt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_apistats_free(s>>>0,1));class yt{static __wrap(t){t=t>>>0;const e=Object.create(yt.prototype);return e.__wbg_ptr=t,Vt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Vt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_apistats_free(t,0)}get upload_key_package(){const t=r.__wbg_get_apistats_upload_key_package(this.__wbg_ptr);return BigInt.asUintN(64,t)}set upload_key_package(t){r.__wbg_set_apistats_upload_key_package(this.__wbg_ptr,t)}get fetch_key_package(){const t=r.__wbg_get_apistats_fetch_key_package(this.__wbg_ptr);return BigInt.asUintN(64,t)}set fetch_key_package(t){r.__wbg_set_apistats_fetch_key_package(this.__wbg_ptr,t)}get send_group_messages(){const t=r.__wbg_get_apistats_send_group_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set send_group_messages(t){r.__wbg_set_apistats_send_group_messages(this.__wbg_ptr,t)}get send_welcome_messages(){const t=r.__wbg_get_apistats_send_welcome_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set send_welcome_messages(t){r.__wbg_set_apistats_send_welcome_messages(this.__wbg_ptr,t)}get query_group_messages(){const t=r.__wbg_get_apistats_query_group_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set query_group_messages(t){r.__wbg_set_apistats_query_group_messages(this.__wbg_ptr,t)}get query_welcome_messages(){const t=r.__wbg_get_apistats_query_welcome_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set query_welcome_messages(t){r.__wbg_set_apistats_query_welcome_messages(this.__wbg_ptr,t)}get subscribe_messages(){const t=r.__wbg_get_apistats_subscribe_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set subscribe_messages(t){r.__wbg_set_apistats_subscribe_messages(this.__wbg_ptr,t)}get subscribe_welcomes(){const t=r.__wbg_get_apistats_subscribe_welcomes(this.__wbg_ptr);return BigInt.asUintN(64,t)}set subscribe_welcomes(t){r.__wbg_set_apistats_subscribe_welcomes(this.__wbg_ptr,t)}}const Jt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_client_free(s>>>0,1));class ht{static __wrap(t){t=t>>>0;const e=Object.create(ht.prototype);return e.__wbg_ptr=t,Jt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Jt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_client_free(t,0)}createInboxSignatureText(){const t=r.client_createInboxSignatureText(this.__wbg_ptr);if(t[3])throw h(t[2]);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}addWalletSignatureText(t){return r.client_addWalletSignatureText(this.__wbg_ptr,t)}revokeWalletSignatureText(t){return r.client_revokeWalletSignatureText(this.__wbg_ptr,t)}revokeAllOtherInstallationsSignatureText(){return r.client_revokeAllOtherInstallationsSignatureText(this.__wbg_ptr)}revokeInstallationsSignatureText(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.client_revokeInstallationsSignatureText(this.__wbg_ptr,e,n)}changeRecoveryIdentifierSignatureText(t){return r.client_changeRecoveryIdentifierSignatureText(this.__wbg_ptr,t)}addEcdsaSignature(t,e){return r.client_addEcdsaSignature(this.__wbg_ptr,t,e)}addPasskeySignature(t,e){I(e,Oe);var n=e.__destroy_into_raw();return r.client_addPasskeySignature(this.__wbg_ptr,t,n)}addScwSignature(t,e,n,_){return r.client_addScwSignature(this.__wbg_ptr,t,e,n,!b(_),b(_)?BigInt(0):_)}applySignatureRequests(){return r.client_applySignatureRequests(this.__wbg_ptr)}signWithInstallationKey(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.client_signWithInstallationKey(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return h(_[0])}verifySignedWithInstallationKey(t,e){const n=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),_=g,i=r.client_verifySignedWithInstallationKey(this.__wbg_ptr,n,_,e);if(i[1])throw h(i[0])}get accountIdentifier(){return r.client_accountIdentifier(this.__wbg_ptr)}get inboxId(){let t,e;try{const n=r.client_inboxId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get isRegistered(){return r.client_isRegistered(this.__wbg_ptr)!==0}get installationId(){let t,e;try{const n=r.client_installationId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get installationIdBytes(){return r.client_installationIdBytes(this.__wbg_ptr)}canMessage(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.client_canMessage(this.__wbg_ptr,e,n)}registerIdentity(){return r.client_registerIdentity(this.__wbg_ptr)}sendSyncRequest(){return r.client_sendSyncRequest(this.__wbg_ptr)}findInboxIdByIdentifier(t){return r.client_findInboxIdByIdentifier(this.__wbg_ptr,t)}inboxStateFromInboxIds(t,e){const n=A(t,r.__wbindgen_malloc),_=g;return r.client_inboxStateFromInboxIds(this.__wbg_ptr,n,_,e)}conversations(){const t=r.client_conversations(this.__wbg_ptr);return xt.__wrap(t)}syncPreferences(){return r.client_syncPreferences(this.__wbg_ptr)}apiStatistics(){const t=r.client_apiStatistics(this.__wbg_ptr);return yt.__wrap(t)}apiIdentityStatistics(){const t=r.client_apiIdentityStatistics(this.__wbg_ptr);return Dt.__wrap(t)}apiAggregateStatistics(){let t,e;try{const n=r.client_apiAggregateStatistics(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}uploadDebugArchive(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.client_uploadDebugArchive(this.__wbg_ptr,e,n)}inboxState(t){return r.client_inboxState(this.__wbg_ptr,t)}getLatestInboxState(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.client_getLatestInboxState(this.__wbg_ptr,e,n)}getKeyPackageStatusesForInstallationIds(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.client_getKeyPackageStatusesForInstallationIds(this.__wbg_ptr,e,n)}setConsentStates(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.client_setConsentStates(this.__wbg_ptr,e,n)}getConsentState(t,e){const n=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),_=g;return r.client_getConsentState(this.__wbg_ptr,t,n,_)}}const Yt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_consent_free(s>>>0,1));class ut{static __unwrap(t){return t instanceof ut?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Yt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_consent_free(t,0)}get entityType(){return r.__wbg_get_consent_entityType(this.__wbg_ptr)}set entityType(t){r.__wbg_set_consent_entityType(this.__wbg_ptr,t)}get state(){return r.__wbg_get_consent_state(this.__wbg_ptr)}set state(t){r.__wbg_set_consent_state(this.__wbg_ptr,t)}get entity(){let t,e;try{const n=r.__wbg_get_consent_entity(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set entity(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_consent_entity(this.__wbg_ptr,e,n)}constructor(t,e,n){const _=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g,a=r.consent_new(t,e,_,i);return this.__wbg_ptr=a>>>0,Yt.register(this,this.__wbg_ptr,this),this}}const vt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_contenttypeid_free(s>>>0,1));class Y{static __wrap(t){t=t>>>0;const e=Object.create(Y.prototype);return e.__wbg_ptr=t,vt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,vt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_contenttypeid_free(t,0)}get authorityId(){let t,e;try{const n=r.__wbg_get_contenttypeid_authorityId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set authorityId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_contenttypeid_authorityId(this.__wbg_ptr,e,n)}get typeId(){let t,e;try{const n=r.__wbg_get_contenttypeid_typeId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set typeId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_contenttypeid_typeId(this.__wbg_ptr,e,n)}get versionMajor(){return r.__wbg_get_contenttypeid_versionMajor(this.__wbg_ptr)>>>0}set versionMajor(t){r.__wbg_set_contenttypeid_versionMajor(this.__wbg_ptr,t)}get versionMinor(){return r.__wbg_get_contenttypeid_versionMinor(this.__wbg_ptr)>>>0}set versionMinor(t){r.__wbg_set_contenttypeid_versionMinor(this.__wbg_ptr,t)}constructor(t,e,n,_){const i=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),a=g,u=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=g,d=r.contenttypeid_new(i,a,u,o,n,_);return this.__wbg_ptr=d>>>0,vt.register(this,this.__wbg_ptr,this),this}}const Qt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_conversation_free(s>>>0,1));class C{static __wrap(t){t=t>>>0;const e=Object.create(C.prototype);return e.__wbg_ptr=t,Qt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Qt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_conversation_free(t,0)}id(){let t,e;try{const n=r.conversation_id(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}send(t){I(t,L);var e=t.__destroy_into_raw();return r.conversation_send(this.__wbg_ptr,e)}sendOptimistic(t){let e,n;try{I(t,L);var _=t.__destroy_into_raw();const u=r.conversation_sendOptimistic(this.__wbg_ptr,_);var i=u[0],a=u[1];if(u[3])throw i=0,a=0,h(u[2]);return e=i,n=a,p(i,a)}finally{r.__wbindgen_free(e,n,1)}}publishMessages(){return r.conversation_publishMessages(this.__wbg_ptr)}sync(){return r.conversation_sync(this.__wbg_ptr)}findMessages(t){let e=0;return b(t)||(I(t,zt),e=t.__destroy_into_raw()),r.conversation_findMessages(this.__wbg_ptr,e)}findMessagesWithReactions(t){let e=0;return b(t)||(I(t,zt),e=t.__destroy_into_raw()),r.conversation_findMessagesWithReactions(this.__wbg_ptr,e)}listMembers(){return r.conversation_listMembers(this.__wbg_ptr)}adminList(){const t=r.conversation_adminList(this.__wbg_ptr);if(t[3])throw h(t[2]);var e=W(t[0],t[1]).slice();return r.__wbindgen_free(t[0],t[1]*4,4),e}superAdminList(){const t=r.conversation_superAdminList(this.__wbg_ptr);if(t[3])throw h(t[2]);var e=W(t[0],t[1]).slice();return r.__wbindgen_free(t[0],t[1]*4,4),e}isAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.conversation_isAdmin(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return _[0]!==0}isSuperAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.conversation_isSuperAdmin(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return _[0]!==0}addMembers(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.conversation_addMembers(this.__wbg_ptr,e,n)}addAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_addAdmin(this.__wbg_ptr,e,n)}removeAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_removeAdmin(this.__wbg_ptr,e,n)}addSuperAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_addSuperAdmin(this.__wbg_ptr,e,n)}removeSuperAdmin(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_removeSuperAdmin(this.__wbg_ptr,e,n)}groupPermissions(){const t=r.conversation_groupPermissions(this.__wbg_ptr);if(t[2])throw h(t[1]);return Ft.__wrap(t[0])}addMembersByInboxId(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.conversation_addMembersByInboxId(this.__wbg_ptr,e,n)}removeMembers(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.conversation_removeMembers(this.__wbg_ptr,e,n)}removeMembersByInboxId(t){const e=A(t,r.__wbindgen_malloc),n=g;return r.conversation_removeMembersByInboxId(this.__wbg_ptr,e,n)}updateGroupName(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_updateGroupName(this.__wbg_ptr,e,n)}groupName(){let t,e;try{const i=r.conversation_groupName(this.__wbg_ptr);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}updateGroupImageUrlSquare(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_updateGroupImageUrlSquare(this.__wbg_ptr,e,n)}groupImageUrlSquare(){let t,e;try{const i=r.conversation_groupImageUrlSquare(this.__wbg_ptr);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}updateGroupDescription(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;return r.conversation_updateGroupDescription(this.__wbg_ptr,e,n)}groupDescription(){let t,e;try{const i=r.conversation_groupDescription(this.__wbg_ptr);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}stream(t){const e=r.conversation_stream(this.__wbg_ptr,t);if(e[2])throw h(e[1]);return H.__wrap(e[0])}createdAtNs(){return r.conversation_createdAtNs(this.__wbg_ptr)}isActive(){const t=r.conversation_isActive(this.__wbg_ptr);if(t[2])throw h(t[1]);return t[0]!==0}pausedForVersion(){const t=r.conversation_pausedForVersion(this.__wbg_ptr);if(t[3])throw h(t[2]);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}addedByInboxId(){let t,e;try{const i=r.conversation_addedByInboxId(this.__wbg_ptr);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}groupMetadata(){return r.conversation_groupMetadata(this.__wbg_ptr)}dmPeerInboxId(){let t,e;try{const i=r.conversation_dmPeerInboxId(this.__wbg_ptr);var n=i[0],_=i[1];if(i[3])throw n=0,_=0,h(i[2]);return t=n,e=_,p(n,_)}finally{r.__wbindgen_free(t,e,1)}}updatePermissionPolicy(t,e,n){return r.conversation_updatePermissionPolicy(this.__wbg_ptr,t,e,b(n)?5:n)}updateMessageDisappearingSettings(t){I(t,z);var e=t.__destroy_into_raw();return r.conversation_updateMessageDisappearingSettings(this.__wbg_ptr,e)}removeMessageDisappearingSettings(){return r.conversation_removeMessageDisappearingSettings(this.__wbg_ptr)}messageDisappearingSettings(){const t=r.conversation_messageDisappearingSettings(this.__wbg_ptr);if(t[2])throw h(t[1]);return t[0]===0?void 0:z.__wrap(t[0])}isMessageDisappearingEnabled(){const t=r.conversation_isMessageDisappearingEnabled(this.__wbg_ptr);if(t[2])throw h(t[1]);return t[0]!==0}getHmacKeys(){const t=r.conversation_getHmacKeys(this.__wbg_ptr);if(t[2])throw h(t[1]);return h(t[0])}getDebugInfo(){return r.conversation_getDebugInfo(this.__wbg_ptr)}findDuplicateDms(){return r.conversation_findDuplicateDms(this.__wbg_ptr)}consentState(){const t=r.conversation_consentState(this.__wbg_ptr);if(t[2])throw h(t[1]);return t[0]}updateConsentState(t){const e=r.conversation_updateConsentState(this.__wbg_ptr,t);if(e[1])throw h(e[0])}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_conversationdebuginfo_free(s>>>0,1));const It=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_conversationlistitem_free(s>>>0,1));class St{static __wrap(t){t=t>>>0;const e=Object.create(St.prototype);return e.__wbg_ptr=t,It.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,It.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_conversationlistitem_free(t,0)}get conversation(){const t=r.__wbg_get_conversationlistitem_conversation(this.__wbg_ptr);return C.__wrap(t)}set conversation(t){I(t,C);var e=t.__destroy_into_raw();r.__wbg_set_conversationlistitem_conversation(this.__wbg_ptr,e)}get lastMessage(){const t=r.__wbg_get_conversationlistitem_lastMessage(this.__wbg_ptr);return t===0?void 0:B.__wrap(t)}set lastMessage(t){let e=0;b(t)||(I(t,B),e=t.__destroy_into_raw()),r.__wbg_set_conversationlistitem_lastMessage(this.__wbg_ptr,e)}constructor(t,e){I(t,C);var n=t.__destroy_into_raw();let _=0;b(e)||(I(e,B),_=e.__destroy_into_raw());const i=r.conversationlistitem_new(n,_);return this.__wbg_ptr=i>>>0,It.register(this,this.__wbg_ptr,this),this}}const Xt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_conversations_free(s>>>0,1));class xt{static __wrap(t){t=t>>>0;const e=Object.create(xt.prototype);return e.__wbg_ptr=t,Xt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Xt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_conversations_free(t,0)}createGroupOptimistic(t){let e=0;b(t)||(I(t,dt),e=t.__destroy_into_raw());const n=r.conversations_createGroupOptimistic(this.__wbg_ptr,e);if(n[2])throw h(n[1]);return C.__wrap(n[0])}createGroup(t,e){const n=A(t,r.__wbindgen_malloc),_=g;let i=0;return b(e)||(I(e,dt),i=e.__destroy_into_raw()),r.conversations_createGroup(this.__wbg_ptr,n,_,i)}createGroupByInboxIds(t,e){const n=A(t,r.__wbindgen_malloc),_=g;let i=0;return b(e)||(I(e,dt),i=e.__destroy_into_raw()),r.conversations_createGroupByInboxIds(this.__wbg_ptr,n,_,i)}createDm(t,e){let n=0;return b(e)||(I(e,kt),n=e.__destroy_into_raw()),r.conversations_createDm(this.__wbg_ptr,t,n)}createDmByInboxId(t,e){const n=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),_=g;let i=0;return b(e)||(I(e,kt),i=e.__destroy_into_raw()),r.conversations_createDmByInboxId(this.__wbg_ptr,n,_,i)}findGroupById(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.conversations_findGroupById(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return C.__wrap(_[0])}findDmByTargetInboxId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.conversations_findDmByTargetInboxId(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return C.__wrap(_[0])}findMessageById(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g,_=r.conversations_findMessageById(this.__wbg_ptr,e,n);if(_[2])throw h(_[1]);return B.__wrap(_[0])}sync(){return r.conversations_sync(this.__wbg_ptr)}syncAllConversations(t){var e=b(t)?0:A(t,r.__wbindgen_malloc),n=g;return r.conversations_syncAllConversations(this.__wbg_ptr,e,n)}list(t){let e=0;b(t)||(I(t,ie),e=t.__destroy_into_raw());const n=r.conversations_list(this.__wbg_ptr,e);if(n[2])throw h(n[1]);return h(n[0])}getHmacKeys(){const t=r.conversations_getHmacKeys(this.__wbg_ptr);if(t[2])throw h(t[1]);return h(t[0])}streamLocal(t){return r.conversations_streamLocal(this.__wbg_ptr,b(t)?3:t)}stream(t,e){const n=r.conversations_stream(this.__wbg_ptr,t,b(e)?3:e);if(n[2])throw h(n[1]);return H.__wrap(n[0])}streamAllMessages(t,e,n){var _=b(n)?0:A(n,r.__wbindgen_malloc),i=g;const a=r.conversations_streamAllMessages(this.__wbg_ptr,t,b(e)?3:e,_,i);if(a[2])throw h(a[1]);return H.__wrap(a[0])}streamConsent(t){const e=r.conversations_streamConsent(this.__wbg_ptr,t);if(e[2])throw h(e[1]);return H.__wrap(e[0])}streamPreferences(t){const e=r.conversations_streamPreferences(this.__wbg_ptr,t);if(e[2])throw h(e[1]);return H.__wrap(e[0])}}const Zt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_createdmoptions_free(s>>>0,1));class kt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Zt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_createdmoptions_free(t,0)}get messageDisappearingSettings(){const t=r.__wbg_get_createdmoptions_messageDisappearingSettings(this.__wbg_ptr);return t===0?void 0:z.__wrap(t)}set messageDisappearingSettings(t){let e=0;b(t)||(I(t,z),e=t.__destroy_into_raw()),r.__wbg_set_createdmoptions_messageDisappearingSettings(this.__wbg_ptr,e)}constructor(t){let e=0;b(t)||(I(t,z),e=t.__destroy_into_raw());const n=r.createdmoptions_new(e);return this.__wbg_ptr=n>>>0,Zt.register(this,this.__wbg_ptr,this),this}}const te=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_creategroupoptions_free(s>>>0,1));class dt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,te.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_creategroupoptions_free(t,0)}get permissions(){const t=r.__wbg_get_creategroupoptions_permissions(this.__wbg_ptr);return t===3?void 0:t}set permissions(t){r.__wbg_set_creategroupoptions_permissions(this.__wbg_ptr,b(t)?3:t)}get groupName(){const t=r.__wbg_get_creategroupoptions_groupName(this.__wbg_ptr);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}set groupName(t){var e=b(t)?0:l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_creategroupoptions_groupName(this.__wbg_ptr,e,n)}get groupImageUrlSquare(){const t=r.__wbg_get_creategroupoptions_groupImageUrlSquare(this.__wbg_ptr);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}set groupImageUrlSquare(t){var e=b(t)?0:l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_creategroupoptions_groupImageUrlSquare(this.__wbg_ptr,e,n)}get groupDescription(){const t=r.__wbg_get_creategroupoptions_groupDescription(this.__wbg_ptr);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}set groupDescription(t){var e=b(t)?0:l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_creategroupoptions_groupDescription(this.__wbg_ptr,e,n)}get customPermissionPolicySet(){const t=r.__wbg_get_creategroupoptions_customPermissionPolicySet(this.__wbg_ptr);return t===0?void 0:K.__wrap(t)}set customPermissionPolicySet(t){let e=0;b(t)||(I(t,K),e=t.__destroy_into_raw()),r.__wbg_set_creategroupoptions_customPermissionPolicySet(this.__wbg_ptr,e)}get messageDisappearingSettings(){const t=r.__wbg_get_createdmoptions_messageDisappearingSettings(this.__wbg_ptr);return t===0?void 0:z.__wrap(t)}set messageDisappearingSettings(t){let e=0;b(t)||(I(t,z),e=t.__destroy_into_raw()),r.__wbg_set_createdmoptions_messageDisappearingSettings(this.__wbg_ptr,e)}constructor(t,e,n,_,i,a){var u=b(e)?0:l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=g,d=b(n)?0:l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=g,v=b(_)?0:l(_,r.__wbindgen_malloc,r.__wbindgen_realloc),R=g;let F=0;b(i)||(I(i,K),F=i.__destroy_into_raw());let q=0;b(a)||(I(a,z),q=a.__destroy_into_raw());const J=r.creategroupoptions_new(b(t)?3:t,u,o,d,f,v,R,F,q);return this.__wbg_ptr=J>>>0,te.register(this,this.__wbg_ptr,this),this}}const At=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_encodedcontent_free(s>>>0,1));class L{static __wrap(t){t=t>>>0;const e=Object.create(L.prototype);return e.__wbg_ptr=t,At.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,At.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_encodedcontent_free(t,0)}get type(){const t=r.__wbg_get_encodedcontent_type(this.__wbg_ptr);return t===0?void 0:Y.__wrap(t)}set type(t){let e=0;b(t)||(I(t,Y),e=t.__destroy_into_raw()),r.__wbg_set_encodedcontent_type(this.__wbg_ptr,e)}get parameters(){return r.__wbg_get_encodedcontent_parameters(this.__wbg_ptr)}set parameters(t){r.__wbg_set_encodedcontent_parameters(this.__wbg_ptr,t)}get fallback(){const t=r.__wbg_get_encodedcontent_fallback(this.__wbg_ptr);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}set fallback(t){var e=b(t)?0:l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_encodedcontent_fallback(this.__wbg_ptr,e,n)}get compression(){const t=r.__wbg_get_encodedcontent_compression(this.__wbg_ptr);return t===4294967297?void 0:t}set compression(t){r.__wbg_set_encodedcontent_compression(this.__wbg_ptr,b(t)?4294967297:t>>0)}get content(){return r.__wbg_get_encodedcontent_content(this.__wbg_ptr)}set content(t){r.__wbg_set_encodedcontent_content(this.__wbg_ptr,t)}constructor(t,e,n,_,i){let a=0;b(t)||(I(t,Y),a=t.__destroy_into_raw());var u=b(n)?0:l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),o=g;const d=r.encodedcontent_new(a,e,u,o,b(_)?4294967297:_>>0,i);return this.__wbg_ptr=d>>>0,At.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_groupmember_free(s>>>0,1));const ee=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_groupmetadata_free(s>>>0,1));class Mt{static __wrap(t){t=t>>>0;const e=Object.create(Mt.prototype);return e.__wbg_ptr=t,ee.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ee.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_groupmetadata_free(t,0)}creatorInboxId(){let t,e;try{const n=r.groupmetadata_creatorInboxId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}conversationType(){let t,e;try{const n=r.groupmetadata_conversationType(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}}const ne=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_grouppermissions_free(s>>>0,1));class Ft{static __wrap(t){t=t>>>0;const e=Object.create(Ft.prototype);return e.__wbg_ptr=t,ne.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ne.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_grouppermissions_free(t,0)}policyType(){const t=r.grouppermissions_policyType(this.__wbg_ptr);if(t[2])throw h(t[1]);return t[0]}policySet(){const t=r.grouppermissions_policySet(this.__wbg_ptr);if(t[2])throw h(t[1]);return K.__wrap(t[0])}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_hmackey_free(s>>>0,1));const re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_identitystats_free(s>>>0,1));class Dt{static __wrap(t){t=t>>>0;const e=Object.create(Dt.prototype);return e.__wbg_ptr=t,re.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,re.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_identitystats_free(t,0)}get publish_identity_update(){const t=r.__wbg_get_apistats_upload_key_package(this.__wbg_ptr);return BigInt.asUintN(64,t)}set publish_identity_update(t){r.__wbg_set_apistats_upload_key_package(this.__wbg_ptr,t)}get get_identity_updates_v2(){const t=r.__wbg_get_apistats_fetch_key_package(this.__wbg_ptr);return BigInt.asUintN(64,t)}set get_identity_updates_v2(t){r.__wbg_set_apistats_fetch_key_package(this.__wbg_ptr,t)}get get_inbox_ids(){const t=r.__wbg_get_apistats_send_group_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set get_inbox_ids(t){r.__wbg_set_apistats_send_group_messages(this.__wbg_ptr,t)}get verify_smart_contract_wallet_signature(){const t=r.__wbg_get_apistats_send_welcome_messages(this.__wbg_ptr);return BigInt.asUintN(64,t)}set verify_smart_contract_wallet_signature(t){r.__wbg_set_apistats_send_welcome_messages(this.__wbg_ptr,t)}}const Pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_inboxstate_free(s>>>0,1));class Rt{static __wrap(t){t=t>>>0;const e=Object.create(Rt.prototype);return e.__wbg_ptr=t,Pt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Pt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_inboxstate_free(t,0)}get inboxId(){let t,e;try{const n=r.__wbg_get_inboxstate_inboxId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set inboxId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_groupmember_inboxId(this.__wbg_ptr,e,n)}get recoveryIdentifier(){return r.__wbg_get_inboxstate_recoveryIdentifier(this.__wbg_ptr)}set recoveryIdentifier(t){r.__wbg_set_inboxstate_recoveryIdentifier(this.__wbg_ptr,t)}get installations(){const t=r.__wbg_get_inboxstate_installations(this.__wbg_ptr);var e=W(t[0],t[1]).slice();return r.__wbindgen_free(t[0],t[1]*4,4),e}set installations(t){const e=A(t,r.__wbindgen_malloc),n=g;r.__wbg_set_inboxstate_installations(this.__wbg_ptr,e,n)}get accountIdentifiers(){const t=r.__wbg_get_inboxstate_accountIdentifiers(this.__wbg_ptr);var e=W(t[0],t[1]).slice();return r.__wbindgen_free(t[0],t[1]*4,4),e}set accountIdentifiers(t){const e=A(t,r.__wbindgen_malloc),n=g;r.__wbg_set_inboxstate_accountIdentifiers(this.__wbg_ptr,e,n)}constructor(t,e,n,_){const i=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),a=g,u=A(n,r.__wbindgen_malloc),o=g,d=A(_,r.__wbindgen_malloc),f=g,v=r.inboxstate_new(i,a,e,u,o,d,f);return this.__wbg_ptr=v>>>0,Pt.register(this,this.__wbg_ptr,this),this}}const Tt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_installation_free(s>>>0,1));class tt{static __wrap(t){t=t>>>0;const e=Object.create(tt.prototype);return e.__wbg_ptr=t,Tt.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof tt?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Tt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_installation_free(t,0)}get bytes(){return r.__wbg_get_installation_bytes(this.__wbg_ptr)}set bytes(t){r.__wbg_set_installation_bytes(this.__wbg_ptr,t)}get id(){let t,e;try{const n=r.__wbg_get_installation_id(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set id(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_installation_id(this.__wbg_ptr,e,n)}get clientTimestampNs(){const t=r.__wbg_get_installation_clientTimestampNs(this.__wbg_ptr);return t[0]===0?void 0:BigInt.asUintN(64,t[1])}set clientTimestampNs(t){r.__wbg_set_installation_clientTimestampNs(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}constructor(t,e,n){const _=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g,a=r.installation_new(t,_,i,!b(n),b(n)?BigInt(0):n);return this.__wbg_ptr=a>>>0,Tt.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_intounderlyingbytesource_free(s>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_intounderlyingsink_free(s>>>0,1));const se=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_intounderlyingsource_free(s>>>0,1));class Bt{static __wrap(t){t=t>>>0;const e=Object.create(Bt.prototype);return e.__wbg_ptr=t,se.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,se.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_intounderlyingsource_free(t,0)}pull(t){return r.intounderlyingsource_pull(this.__wbg_ptr,t)}cancel(){const t=this.__destroy_into_raw();r.intounderlyingsource_cancel(t)}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_keypackagestatus_free(s>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_lifetime_free(s>>>0,1));const _e=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_listconversationsoptions_free(s>>>0,1));class ie{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,_e.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_listconversationsoptions_free(t,0)}get consentStates(){const t=r.__wbg_get_listconversationsoptions_consentStates(this.__wbg_ptr);let e;return t[0]!==0&&(e=W(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*4,4)),e}set consentStates(t){var e=b(t)?0:A(t,r.__wbindgen_malloc),n=g;r.__wbg_set_listconversationsoptions_consentStates(this.__wbg_ptr,e,n)}get conversationType(){const t=r.__wbg_get_listconversationsoptions_conversationType(this.__wbg_ptr);return t===3?void 0:t}set conversationType(t){r.__wbg_set_listconversationsoptions_conversationType(this.__wbg_ptr,b(t)?3:t)}get createdAfterNs(){const t=r.__wbg_get_listconversationsoptions_createdAfterNs(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set createdAfterNs(t){r.__wbg_set_listconversationsoptions_createdAfterNs(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}get createdBeforeNs(){const t=r.__wbg_get_listconversationsoptions_createdBeforeNs(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set createdBeforeNs(t){r.__wbg_set_listconversationsoptions_createdBeforeNs(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}get includeDuplicateDms(){const t=r.__wbg_get_listconversationsoptions_includeDuplicateDms(this.__wbg_ptr);return t===16777215?void 0:t!==0}set includeDuplicateDms(t){r.__wbg_set_listconversationsoptions_includeDuplicateDms(this.__wbg_ptr,b(t)?16777215:t?1:0)}get limit(){const t=r.__wbg_get_listconversationsoptions_limit(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set limit(t){r.__wbg_set_listconversationsoptions_limit(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}constructor(t,e,n,_,i,a){var u=b(t)?0:A(t,r.__wbindgen_malloc),o=g;const d=r.listconversationsoptions_new(u,o,b(e)?3:e,!b(n),b(n)?BigInt(0):n,!b(_),b(_)?BigInt(0):_,b(i)?16777215:i?1:0,!b(a),b(a)?BigInt(0):a);return this.__wbg_ptr=d>>>0,_e.register(this,this.__wbg_ptr,this),this}}const oe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_listmessagesoptions_free(s>>>0,1));class zt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,oe.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_listmessagesoptions_free(t,0)}get contentTypes(){const t=r.__wbg_get_listmessagesoptions_contentTypes(this.__wbg_ptr);let e;return t[0]!==0&&(e=W(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*4,4)),e}set contentTypes(t){var e=b(t)?0:A(t,r.__wbindgen_malloc),n=g;r.__wbg_set_listmessagesoptions_contentTypes(this.__wbg_ptr,e,n)}get sentBeforeNs(){const t=r.__wbg_get_listmessagesoptions_sentBeforeNs(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set sentBeforeNs(t){r.__wbg_set_listconversationsoptions_createdAfterNs(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}get sentAfterNs(){const t=r.__wbg_get_listmessagesoptions_sentAfterNs(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set sentAfterNs(t){r.__wbg_set_listconversationsoptions_createdBeforeNs(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}get limit(){const t=r.__wbg_get_listmessagesoptions_limit(this.__wbg_ptr);return t[0]===0?void 0:t[1]}set limit(t){r.__wbg_set_listconversationsoptions_limit(this.__wbg_ptr,!b(t),b(t)?BigInt(0):t)}get deliveryStatus(){const t=r.__wbg_get_listmessagesoptions_deliveryStatus(this.__wbg_ptr);return t===3?void 0:t}set deliveryStatus(t){r.__wbg_set_listmessagesoptions_deliveryStatus(this.__wbg_ptr,b(t)?3:t)}get direction(){const t=r.__wbg_get_listmessagesoptions_direction(this.__wbg_ptr);return t===2?void 0:t}set direction(t){r.__wbg_set_listmessagesoptions_direction(this.__wbg_ptr,b(t)?2:t)}get kind(){const t=r.__wbg_get_listmessagesoptions_kind(this.__wbg_ptr);return t===2?void 0:t}set kind(t){r.__wbg_set_listmessagesoptions_kind(this.__wbg_ptr,b(t)?2:t)}constructor(t,e,n,_,i,a,u){var o=b(a)?0:A(a,r.__wbindgen_malloc),d=g;const f=r.listmessagesoptions_new(!b(t),b(t)?BigInt(0):t,!b(e),b(e)?BigInt(0):e,!b(n),b(n)?BigInt(0):n,b(_)?3:_,b(i)?2:i,o,d,b(u)?2:u);return this.__wbg_ptr=f>>>0,oe.register(this,this.__wbg_ptr,this),this}}const ae=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_logoptions_free(s>>>0,1));class ce{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ae.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_logoptions_free(t,0)}get structured(){return r.__wbg_get_logoptions_structured(this.__wbg_ptr)!==0}set structured(t){r.__wbg_set_logoptions_structured(this.__wbg_ptr,t)}get performance(){return r.__wbg_get_logoptions_performance(this.__wbg_ptr)!==0}set performance(t){r.__wbg_set_logoptions_performance(this.__wbg_ptr,t)}get level(){const t=r.__wbg_get_logoptions_level(this.__wbg_ptr);return mt[t]}set level(t){r.__wbg_set_logoptions_level(this.__wbg_ptr,b(t)?7:(mt.indexOf(t)+1||7)-1)}constructor(t,e,n){const _=r.logoptions_new(t,e,b(n)?7:(mt.indexOf(n)+1||7)-1);return this.__wbg_ptr=_>>>0,ae.register(this,this.__wbg_ptr,this),this}}const Nt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_message_free(s>>>0,1));class B{static __wrap(t){t=t>>>0;const e=Object.create(B.prototype);return e.__wbg_ptr=t,Nt.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof B?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Nt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_message_free(t,0)}get id(){let t,e;try{const n=r.__wbg_get_message_id(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set id(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_message_id(this.__wbg_ptr,e,n)}get sentAtNs(){return r.__wbg_get_conversationdebuginfo_epoch(this.__wbg_ptr)}set sentAtNs(t){r.__wbg_set_conversationdebuginfo_epoch(this.__wbg_ptr,t)}get convoId(){let t,e;try{const n=r.__wbg_get_message_convoId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set convoId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_message_convoId(this.__wbg_ptr,e,n)}get senderInboxId(){let t,e;try{const n=r.__wbg_get_message_senderInboxId(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set senderInboxId(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_message_senderInboxId(this.__wbg_ptr,e,n)}get content(){const t=r.__wbg_get_message_content(this.__wbg_ptr);return L.__wrap(t)}set content(t){I(t,L);var e=t.__destroy_into_raw();r.__wbg_set_message_content(this.__wbg_ptr,e)}get kind(){return r.__wbg_get_message_kind(this.__wbg_ptr)}set kind(t){r.__wbg_set_message_kind(this.__wbg_ptr,t)}get deliveryStatus(){return r.__wbg_get_message_deliveryStatus(this.__wbg_ptr)}set deliveryStatus(t){r.__wbg_set_message_deliveryStatus(this.__wbg_ptr,t)}constructor(t,e,n,_,i,a,u){const o=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),d=g,f=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),v=g,R=l(_,r.__wbindgen_malloc,r.__wbindgen_realloc),F=g;I(i,L);var q=i.__destroy_into_raw();const J=r.message_new(o,d,e,f,v,R,F,q,a,u);return this.__wbg_ptr=J>>>0,Nt.register(this,this.__wbg_ptr,this),this}}const Ut=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_messagedisappearingsettings_free(s>>>0,1));class z{static __wrap(t){t=t>>>0;const e=Object.create(z.prototype);return e.__wbg_ptr=t,Ut.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ut.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_messagedisappearingsettings_free(t,0)}get fromNs(){return r.__wbg_get_conversationdebuginfo_epoch(this.__wbg_ptr)}set fromNs(t){r.__wbg_set_conversationdebuginfo_epoch(this.__wbg_ptr,t)}get inNs(){return r.__wbg_get_messagedisappearingsettings_inNs(this.__wbg_ptr)}set inNs(t){r.__wbg_set_messagedisappearingsettings_inNs(this.__wbg_ptr,t)}constructor(t,e){const n=r.messagedisappearingsettings_new(t,e);return this.__wbg_ptr=n>>>0,Ut.register(this,this.__wbg_ptr,this),this}}const ge=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_messagewithreactions_free(s>>>0,1));class Ot{static __wrap(t){t=t>>>0;const e=Object.create(Ot.prototype);return e.__wbg_ptr=t,ge.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ge.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_messagewithreactions_free(t,0)}get message(){const t=r.__wbg_get_messagewithreactions_message(this.__wbg_ptr);return B.__wrap(t)}set message(t){I(t,B);var e=t.__destroy_into_raw();r.__wbg_set_messagewithreactions_message(this.__wbg_ptr,e)}get reactions(){const t=r.__wbg_get_messagewithreactions_reactions(this.__wbg_ptr);var e=W(t[0],t[1]).slice();return r.__wbindgen_free(t[0],t[1]*4,4),e}set reactions(t){const e=A(t,r.__wbindgen_malloc),n=g;r.__wbg_set_messagewithreactions_reactions(this.__wbg_ptr,e,n)}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_multiremoteattachment_free(s>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_opfs_free(s>>>0,1));const Ue=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_passkeysignature_free(s>>>0,1));class Oe{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ue.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_passkeysignature_free(t,0)}}const Ct=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_permissionpolicyset_free(s>>>0,1));class K{static __wrap(t){t=t>>>0;const e=Object.create(K.prototype);return e.__wbg_ptr=t,Ct.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ct.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_permissionpolicyset_free(t,0)}get addMemberPolicy(){return r.__wbg_get_permissionpolicyset_addMemberPolicy(this.__wbg_ptr)}set addMemberPolicy(t){r.__wbg_set_permissionpolicyset_addMemberPolicy(this.__wbg_ptr,t)}get removeMemberPolicy(){return r.__wbg_get_permissionpolicyset_removeMemberPolicy(this.__wbg_ptr)}set removeMemberPolicy(t){r.__wbg_set_permissionpolicyset_removeMemberPolicy(this.__wbg_ptr,t)}get addAdminPolicy(){return r.__wbg_get_permissionpolicyset_addAdminPolicy(this.__wbg_ptr)}set addAdminPolicy(t){r.__wbg_set_permissionpolicyset_addAdminPolicy(this.__wbg_ptr,t)}get removeAdminPolicy(){return r.__wbg_get_permissionpolicyset_removeAdminPolicy(this.__wbg_ptr)}set removeAdminPolicy(t){r.__wbg_set_permissionpolicyset_removeAdminPolicy(this.__wbg_ptr,t)}get updateGroupNamePolicy(){return r.__wbg_get_permissionpolicyset_updateGroupNamePolicy(this.__wbg_ptr)}set updateGroupNamePolicy(t){r.__wbg_set_permissionpolicyset_updateGroupNamePolicy(this.__wbg_ptr,t)}get updateGroupDescriptionPolicy(){return r.__wbg_get_permissionpolicyset_updateGroupDescriptionPolicy(this.__wbg_ptr)}set updateGroupDescriptionPolicy(t){r.__wbg_set_permissionpolicyset_updateGroupDescriptionPolicy(this.__wbg_ptr,t)}get updateGroupImageUrlSquarePolicy(){return r.__wbg_get_permissionpolicyset_updateGroupImageUrlSquarePolicy(this.__wbg_ptr)}set updateGroupImageUrlSquarePolicy(t){r.__wbg_set_permissionpolicyset_updateGroupImageUrlSquarePolicy(this.__wbg_ptr,t)}get updateMessageDisappearingPolicy(){return r.__wbg_get_permissionpolicyset_updateMessageDisappearingPolicy(this.__wbg_ptr)}set updateMessageDisappearingPolicy(t){r.__wbg_set_permissionpolicyset_updateMessageDisappearingPolicy(this.__wbg_ptr,t)}constructor(t,e,n,_,i,a,u,o){const d=r.permissionpolicyset_new(t,e,n,_,i,a,u,o);return this.__wbg_ptr=d>>>0,Ct.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(s=>r.__wbg_reaction_free(s>>>0,1));const jt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_remoteattachmentinfo_free(s>>>0,1));class et{static __wrap(t){t=t>>>0;const e=Object.create(et.prototype);return e.__wbg_ptr=t,jt.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof et?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,jt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_remoteattachmentinfo_free(t,0)}get secret(){return r.__wbg_get_remoteattachmentinfo_secret(this.__wbg_ptr)}set secret(t){r.__wbg_set_remoteattachmentinfo_secret(this.__wbg_ptr,t)}get contentDigest(){let t,e;try{const n=r.__wbg_get_remoteattachmentinfo_contentDigest(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set contentDigest(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_remoteattachmentinfo_contentDigest(this.__wbg_ptr,e,n)}get nonce(){return r.__wbg_get_remoteattachmentinfo_nonce(this.__wbg_ptr)}set nonce(t){r.__wbg_set_remoteattachmentinfo_nonce(this.__wbg_ptr,t)}get scheme(){let t,e;try{const n=r.__wbg_get_remoteattachmentinfo_scheme(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set scheme(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_remoteattachmentinfo_scheme(this.__wbg_ptr,e,n)}get url(){let t,e;try{const n=r.__wbg_get_remoteattachmentinfo_url(this.__wbg_ptr);return t=n[0],e=n[1],p(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}set url(t){const e=l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_remoteattachmentinfo_url(this.__wbg_ptr,e,n)}get salt(){return r.__wbg_get_remoteattachmentinfo_salt(this.__wbg_ptr)}set salt(t){r.__wbg_set_remoteattachmentinfo_salt(this.__wbg_ptr,t)}get contentLength(){const t=r.__wbg_get_remoteattachmentinfo_contentLength(this.__wbg_ptr);return t===4294967297?void 0:t}set contentLength(t){r.__wbg_set_remoteattachmentinfo_contentLength(this.__wbg_ptr,b(t)?4294967297:t>>>0)}get filename(){const t=r.__wbg_get_remoteattachmentinfo_filename(this.__wbg_ptr);let e;return t[0]!==0&&(e=p(t[0],t[1]).slice(),r.__wbindgen_free(t[0],t[1]*1,1)),e}set filename(t){var e=b(t)?0:l(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=g;r.__wbg_set_remoteattachmentinfo_filename(this.__wbg_ptr,e,n)}constructor(t,e,n,_,i,a,u,o){const d=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),f=g,v=l(_,r.__wbindgen_malloc,r.__wbindgen_realloc),R=g,F=l(i,r.__wbindgen_malloc,r.__wbindgen_realloc),q=g;var J=b(o)?0:l(o,r.__wbindgen_malloc,r.__wbindgen_realloc),pt=g;const ye=r.remoteattachmentinfo_new(t,d,f,n,v,R,F,q,a,b(u)?4294967297:u>>>0,J,pt);return this.__wbg_ptr=ye>>>0,jt.register(this,this.__wbg_ptr,this),this}}const be=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>r.__wbg_streamcloser_free(s>>>0,1));class H{static __wrap(t){t=t>>>0;const e=Object.create(H.prototype);return e.__wbg_ptr=t,be.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,be.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_streamcloser_free(t,0)}end(){r.streamcloser_end(this.__wbg_ptr)}endAndWait(){return r.streamcloser_endAndWait(this.__wbg_ptr)}waitForReady(){return r.streamcloser_waitForReady(this.__wbg_ptr)}isClosed(){return r.streamcloser_isClosed(this.__wbg_ptr)!==0}}async function Ce(s,t){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,t)}catch(n){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const e=await s.arrayBuffer();return await WebAssembly.instantiate(e,t)}else{const e=await WebAssembly.instantiate(s,t);return e instanceof WebAssembly.Instance?{instance:e,module:s}:e}}function je(){const s={};return s.wbg={},s.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,e){const n=String(e),_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_abort_410ec47a64ac6117=function(t,e){t.abort(e)},s.wbg.__wbg_abort_775ef1d17fc65868=function(t){t.abort()},s.wbg.__wbg_add_883d9432f9188ef2=function(t,e){return t.add(e)},s.wbg.__wbg_append_8c7dd8d641a5f01b=function(){return y(function(t,e,n,_,i){t.append(p(e,n),p(_,i))},arguments)},s.wbg.__wbg_arrayBuffer_d1b44c4390db422f=function(){return y(function(t){return t.arrayBuffer()},arguments)},s.wbg.__wbg_body_0b8fd1fe671660df=function(t){const e=t.body;return b(e)?0:O(e)},s.wbg.__wbg_buffer_09165b52af8c5237=function(t){return t.buffer},s.wbg.__wbg_buffer_609cc3eee51ed158=function(t){return t.buffer},s.wbg.__wbg_byobRequest_77d9adf63337edfb=function(t){const e=t.byobRequest;return b(e)?0:O(e)},s.wbg.__wbg_byteLength_e674b853d9c77e1d=function(t){return t.byteLength},s.wbg.__wbg_byteOffset_fd862df290ef848d=function(t){return t.byteOffset},s.wbg.__wbg_call_672a4d21634d4a24=function(){return y(function(t,e){return t.call(e)},arguments)},s.wbg.__wbg_call_7cccdd69e0791ae2=function(){return y(function(t,e,n){return t.call(e,n)},arguments)},s.wbg.__wbg_cancel_8a308660caa6cadf=function(t){return t.cancel()},s.wbg.__wbg_catch_a6e601879b2610e9=function(t,e){return t.catch(e)},s.wbg.__wbg_clearInterval_dd1e598f425db353=function(t){return clearInterval(t)},s.wbg.__wbg_clearTimeout_121ece162c044c80=function(t){return clearTimeout(t)},s.wbg.__wbg_clearTimeout_5a54f8841c30079a=function(t){return clearTimeout(t)},s.wbg.__wbg_clearTimeout_96804de0ab838f26=function(t){return clearTimeout(t)},s.wbg.__wbg_clear_1f96150ecf4061a6=function(t){t.clear()},s.wbg.__wbg_clear_fca8ee600282eba4=function(t){t.clear()},s.wbg.__wbg_client_new=function(t){return ht.__wrap(t)},s.wbg.__wbg_close_304cc1fef3466669=function(){return y(function(t){t.close()},arguments)},s.wbg.__wbg_close_5ce03e29be453811=function(){return y(function(t){t.close()},arguments)},s.wbg.__wbg_close_a17af48266bd9942=function(t){t.close()},s.wbg.__wbg_code_cfd8f6868bdaed9b=function(t){return t.code},s.wbg.__wbg_consent_unwrap=function(t){return ut.__unwrap(t)},s.wbg.__wbg_conversation_new=function(t){return C.__wrap(t)},s.wbg.__wbg_conversationlistitem_new=function(t){return St.__wrap(t)},s.wbg.__wbg_createSyncAccessHandle_21c18bcd2a29fa13=function(t){return t.createSyncAccessHandle()},s.wbg.__wbg_create_cfe43ccc88c64e0a=function(t){return Object.create(t)},s.wbg.__wbg_crypto_574e78ad8b13b65f=function(t){return t.crypto},s.wbg.__wbg_debug_3cb59063b29f58c1=function(t){console.debug(t)},s.wbg.__wbg_debug_e17b51583ca6a632=function(t,e,n,_){console.debug(t,e,n,_)},s.wbg.__wbg_delete_36c8630e530a2a1a=function(t,e){return t.delete(e)},s.wbg.__wbg_delete_d6860deb47204f3b=function(t,e){return t.delete(e)},s.wbg.__wbg_done_769e5ede4b31c67b=function(t){return t.done},s.wbg.__wbg_enqueue_bb16ba72f537dc9e=function(){return y(function(t,e){t.enqueue(e)},arguments)},s.wbg.__wbg_entries_19efe296f7d36df9=function(t){return t.entries()},s.wbg.__wbg_entries_3265d4158b33e5dc=function(t){return Object.entries(t)},s.wbg.__wbg_error_524f506f44df1645=function(t){console.error(t)},s.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,e){let n,_;try{n=t,_=e,console.error(p(t,e))}finally{r.__wbindgen_free(n,_,1)}},s.wbg.__wbg_error_80de38b3f7cc3c3c=function(t,e,n,_){console.error(t,e,n,_)},s.wbg.__wbg_fetch_43e69ddf509149f8=function(t){return fetch(t)},s.wbg.__wbg_fetch_509096533071c657=function(t,e){return t.fetch(e)},s.wbg.__wbg_fill_3311db9cdf18c6c4=function(t,e,n,_){return t.fill(e,n>>>0,_>>>0)},s.wbg.__wbg_flush_1a680a66b21c53d7=function(){return y(function(t){t.flush()},arguments)},s.wbg.__wbg_from_2a5d3e218e67aa85=function(t){return Array.from(t)},s.wbg.__wbg_getDate_ef336e14594b35ce=function(t){return t.getDate()},s.wbg.__wbg_getDay_3da98b461c969439=function(t){return t.getDay()},s.wbg.__wbg_getDirectoryHandle_c48a138373d79b3d=function(t,e,n,_){return t.getDirectoryHandle(p(e,n),_)},s.wbg.__wbg_getDirectory_c206b0540c9acc0f=function(t){return t.getDirectory()},s.wbg.__wbg_getFileHandle_5fb877d1ecc74d52=function(t,e,n,_){return t.getFileHandle(p(e,n),_)},s.wbg.__wbg_getFullYear_17d3c9e4db748eb7=function(t){return t.getFullYear()},s.wbg.__wbg_getHours_70451b8de3ce8638=function(t){return t.getHours()},s.wbg.__wbg_getMinutes_e793d718371e18f7=function(t){return t.getMinutes()},s.wbg.__wbg_getMonth_d37edcd23642c97d=function(t){return t.getMonth()},s.wbg.__wbg_getRandomValues_3c9c0d586e575a16=function(){return y(function(t,e){globalThis.crypto.getRandomValues(ct(t,e))},arguments)},s.wbg.__wbg_getRandomValues_4222c05e65c4cb4d=function(){return y(function(t,e){globalThis.crypto.getRandomValues(ct(t,e))},arguments)},s.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return y(function(t,e){t.getRandomValues(e)},arguments)},s.wbg.__wbg_getReader_48e00749fe3f6089=function(){return y(function(t){return t.getReader()},arguments)},s.wbg.__wbg_getSeconds_755197b634cca692=function(t){return t.getSeconds()},s.wbg.__wbg_getSize_e7dbd5ffa0b43df1=function(){return y(function(t){return t.getSize()},arguments)},s.wbg.__wbg_getTime_46267b1c24877e30=function(t){return t.getTime()},s.wbg.__wbg_getTimezoneOffset_6b5752021c499c47=function(t){return t.getTimezoneOffset()},s.wbg.__wbg_getUint32_9c3cc8fde7919ed4=function(t,e){return t.getUint32(e>>>0)},s.wbg.__wbg_get_13495dac72693ecc=function(t,e){return t.get(e)},s.wbg.__wbg_get_67b2ba62fc30de12=function(){return y(function(t,e){return Reflect.get(t,e)},arguments)},s.wbg.__wbg_get_b9b93047fe3cf45b=function(t,e){return t[e>>>0]},s.wbg.__wbg_getdone_d47073731acd3e74=function(t){const e=t.done;return b(e)?16777215:e?1:0},s.wbg.__wbg_getindex_5b00c274b05714aa=function(t,e){return t[e>>>0]},s.wbg.__wbg_getvalue_009dcd63692bee1f=function(t){return t.value},s.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(t,e){return t[e]},s.wbg.__wbg_groupmetadata_new=function(t){return Mt.__wrap(t)},s.wbg.__wbg_has_76ca66e2f25d1c49=function(t,e){return t.has(e)},s.wbg.__wbg_has_a5ea9117f258a0ec=function(){return y(function(t,e){return Reflect.has(t,e)},arguments)},s.wbg.__wbg_headers_9cb51cfd2ac780a4=function(t){return t.headers},s.wbg.__wbg_inboxstate_new=function(t){return Rt.__wrap(t)},s.wbg.__wbg_info_033d8b8a0838f1d3=function(t,e,n,_){console.info(t,e,n,_)},s.wbg.__wbg_info_3daf2e093e091b66=function(t){console.info(t)},s.wbg.__wbg_installation_new=function(t){return tt.__wrap(t)},s.wbg.__wbg_installation_unwrap=function(t){return tt.__unwrap(t)},s.wbg.__wbg_instanceof_ArrayBuffer_e14585432e3737fc=function(t){let e;try{e=t instanceof ArrayBuffer}catch{e=!1}return e},s.wbg.__wbg_instanceof_DomException_ed1ccb7aaf39034c=function(t){let e;try{e=t instanceof DOMException}catch{e=!1}return e},s.wbg.__wbg_instanceof_Performance_0ac1286c87171f57=function(t){let e;try{e=t instanceof Performance}catch{e=!1}return e},s.wbg.__wbg_instanceof_Response_f2cc20d9f7dfd644=function(t){let e;try{e=t instanceof Response}catch{e=!1}return e},s.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(t){let e;try{e=t instanceof Uint8Array}catch{e=!1}return e},s.wbg.__wbg_instanceof_WorkerGlobalScope_dbdbdea7e3b56493=function(t){let e;try{e=t instanceof WorkerGlobalScope}catch{e=!1}return e},s.wbg.__wbg_iterator_9a24c88df860dc65=function(){return Symbol.iterator},s.wbg.__wbg_keys_4e7df9a04572b339=function(t){return t.keys()},s.wbg.__wbg_keys_867d2062f5df73dc=function(t){return t.keys()},s.wbg.__wbg_length_a446193dc22c12f8=function(t){return t.length},s.wbg.__wbg_length_d56737991078581b=function(t){return t.length},s.wbg.__wbg_length_e2d2a49132c1b256=function(t){return t.length},s.wbg.__wbg_mark_05056c522bddc362=function(){return y(function(t,e,n){t.mark(p(e,n))},arguments)},s.wbg.__wbg_mark_24a1a597f4f00679=function(){return y(function(t,e,n,_){t.mark(p(e,n),_)},arguments)},s.wbg.__wbg_measure_0b7379f5cfacac6d=function(){return y(function(t,e,n,_,i,a,u){t.measure(p(e,n),p(_,i),p(a,u))},arguments)},s.wbg.__wbg_measure_7728846525e2cced=function(){return y(function(t,e,n,_){t.measure(p(e,n),_)},arguments)},s.wbg.__wbg_message_5c5d919204d42400=function(t,e){const n=e.message,_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_message_new=function(t){return B.__wrap(t)},s.wbg.__wbg_message_unwrap=function(t){return B.__unwrap(t)},s.wbg.__wbg_messagewithreactions_new=function(t){return Ot.__wrap(t)},s.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(t){return t.msCrypto},s.wbg.__wbg_name_f2d27098bfd843e7=function(t,e){const n=e.name,_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_navigator_0a9bf1120e24fec2=function(t){return t.navigator},s.wbg.__wbg_new0_f788a2397c7ca929=function(){return new Date},s.wbg.__wbg_new_018dcc2d6c8c2f6a=function(){return y(function(){return new Headers},arguments)},s.wbg.__wbg_new_23a2665fac83c611=function(t,e){try{var n={a:t,b:e},_=(a,u)=>{const o=n.a;n.a=0;try{return Re(o,n.b,a,u)}finally{n.a=o}};return new Promise(_)}finally{n.a=n.b=0}},s.wbg.__wbg_new_31a97dac4f10fab7=function(t){return new Date(t)},s.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},s.wbg.__wbg_new_5e0be73521bc8c17=function(){return new Map},s.wbg.__wbg_new_78feb108b6472713=function(){return new Array},s.wbg.__wbg_new_7e079fa25e135eb1=function(t,e,n){return new DataView(t,e>>>0,n>>>0)},s.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},s.wbg.__wbg_new_a12002a7f91c75be=function(t){return new Uint8Array(t)},s.wbg.__wbg_new_a239edaa1dc2968f=function(t){return new Set(t)},s.wbg.__wbg_new_c68d7209be747379=function(t,e){return new Error(p(t,e))},s.wbg.__wbg_new_e25e5aab09ff45db=function(){return y(function(){return new AbortController},arguments)},s.wbg.__wbg_newnoargs_105ed471475aaf50=function(t,e){return new Function(p(t,e))},s.wbg.__wbg_newwithbase_161c299e7a34e2eb=function(){return y(function(t,e,n,_){return new URL(p(t,e),p(n,_))},arguments)},s.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(t,e,n){return new Uint8Array(t,e>>>0,n>>>0)},s.wbg.__wbg_newwithintounderlyingsource_b47f6a6a596a7f24=function(t,e){return new ReadableStream(Bt.__wrap(t),e)},s.wbg.__wbg_newwithlength_a381634e90c276d4=function(t){return new Uint8Array(t>>>0)},s.wbg.__wbg_newwithstrandinit_06c535e0a867c635=function(){return y(function(t,e,n){return new Request(p(t,e),n)},arguments)},s.wbg.__wbg_newwithyearmonthday_03748851282a850d=function(t,e,n){return new Date(t>>>0,e,n)},s.wbg.__wbg_next_25feadfc0913fea9=function(t){return t.next},s.wbg.__wbg_next_6574e1a8a62d1055=function(){return y(function(t){return t.next()},arguments)},s.wbg.__wbg_next_c3ab0d59847b3b5c=function(){return y(function(t){return t.next()},arguments)},s.wbg.__wbg_node_905d3e251edff8a2=function(t){return t.node},s.wbg.__wbg_now_2c95c9de01293173=function(t){return t.now()},s.wbg.__wbg_now_7b5abb0a69e028e7=function(t){const e=globalThis.performance.now();k().setFloat64(t+8*1,b(e)?0:e,!0),k().setInt32(t+4*0,!b(e),!0)},s.wbg.__wbg_now_807e54c39636c349=function(){return Date.now()},s.wbg.__wbg_now_d18023d54d4e5500=function(t){return t.now()},s.wbg.__wbg_onconsentupdate_f1fb42cc2ff15d86=function(t,e){t.on_consent_update(e)},s.wbg.__wbg_onconversation_1360ce64782d004d=function(t,e){t.on_conversation(C.__wrap(e))},s.wbg.__wbg_onerror_3460845a0ed0d5bb=function(t,e){t.on_error(e)},s.wbg.__wbg_onmessage_41cbe56dc22058f1=function(t,e){t.on_message(B.__wrap(e))},s.wbg.__wbg_onuserpreferenceupdate_ebf9a59554754d98=function(t,e,n){var _=W(e,n).slice();r.__wbindgen_free(e,n*4,4),t.on_user_preference_update(_)},s.wbg.__wbg_pathname_9b0b04c4e19316d0=function(t,e){const n=e.pathname,_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_performance_121b9855d716e029=function(){return globalThis.performance},s.wbg.__wbg_performance_7a3ffd0b17f663ad=function(t){return t.performance},s.wbg.__wbg_process_dc0fbacc7c1c06f7=function(t){return t.process},s.wbg.__wbg_push_737cfc8c1432c2c6=function(t,e){return t.push(e)},s.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(t){queueMicrotask(t)},s.wbg.__wbg_queueMicrotask_d3219def82552485=function(t){return t.queueMicrotask},s.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return y(function(t,e){t.randomFillSync(e)},arguments)},s.wbg.__wbg_random_3ad904d98382defe=function(){return Math.random()},s.wbg.__wbg_read_50be4c2d01bc12b4=function(){return y(function(t,e,n){return t.read(e,n)},arguments)},s.wbg.__wbg_read_a2434af1186cb56c=function(t){return t.read()},s.wbg.__wbg_read_f8fdd4b410209222=function(){return y(function(t,e,n,_){return t.read(ct(e,n),_)},arguments)},s.wbg.__wbg_releaseLock_091899af97991d2e=function(t){t.releaseLock()},s.wbg.__wbg_remoteattachmentinfo_new=function(t){return et.__wrap(t)},s.wbg.__wbg_remoteattachmentinfo_unwrap=function(t){return et.__unwrap(t)},s.wbg.__wbg_removeEntry_9f6bc325e3383e59=function(t,e,n){return t.removeEntry(p(e,n))},s.wbg.__wbg_require_60cc747a6bc5215a=function(){return y(function(){return module.require},arguments)},s.wbg.__wbg_resolve_4851785c9c5f573d=function(t){return Promise.resolve(t)},s.wbg.__wbg_respond_1f279fa9f8edcb1c=function(){return y(function(t,e){t.respond(e>>>0)},arguments)},s.wbg.__wbg_setInterval_ed3b5e3c3ebb8a6d=function(){return y(function(t,e){return setInterval(t,e)},arguments)},s.wbg.__wbg_setTimeout_db2dbaeefb6f39c7=function(){return y(function(t,e){return setTimeout(t,e)},arguments)},s.wbg.__wbg_setTimeout_e64b2910d9d7169a=function(t,e){return setTimeout(t,e)},s.wbg.__wbg_setTimeout_eefe7f4c234b0c6b=function(){return y(function(t,e){return setTimeout(t,e)},arguments)},s.wbg.__wbg_setUint32_ad8826b8caeaf63d=function(t,e,n){t.setUint32(e>>>0,n>>>0)},s.wbg.__wbg_set_37837023f3d740e8=function(t,e,n){t[e>>>0]=n},s.wbg.__wbg_set_3f1d0b984ed272ed=function(t,e,n){t[e]=n},s.wbg.__wbg_set_65595bdd868b3009=function(t,e,n){t.set(e,n>>>0)},s.wbg.__wbg_set_8fc6bf8a5b1071d1=function(t,e,n){return t.set(e,n)},s.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return y(function(t,e,n){return Reflect.set(t,e,n)},arguments)},s.wbg.__wbg_setat_2a071a392643c10e=function(t,e){t.at=e},s.wbg.__wbg_setbody_5923b78a95eedf29=function(t,e){t.body=e},s.wbg.__wbg_setcreate_139bad94b2874fb5=function(t,e){t.create=e!==0},s.wbg.__wbg_setcreate_4ca762e23d9f78da=function(t,e){t.create=e!==0},s.wbg.__wbg_setcredentials_c3a22f1cd105a2c6=function(t,e){t.credentials=ze[e]},s.wbg.__wbg_setheaders_834c0bdb6a8949ad=function(t,e){t.headers=e},s.wbg.__wbg_sethighwatermark_793c99c89830c8e9=function(t,e){t.highWaterMark=e},s.wbg.__wbg_setmethod_3c5280fe5d890842=function(t,e,n){t.method=p(e,n)},s.wbg.__wbg_setmode_5dc300b865044b65=function(t,e){t.mode=Ne[e]},s.wbg.__wbg_setsignal_75b21ef3a81de905=function(t,e){t.signal=e},s.wbg.__wbg_signal_aaf9ad74119f20a4=function(t){return t.signal},s.wbg.__wbg_size_f9d54556ad844dc3=function(t){return t.size},s.wbg.__wbg_slice_972c243648c9fd2e=function(t,e,n){return t.slice(e>>>0,n>>>0)},s.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,e){const n=e.stack,_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const t=typeof global>"u"?null:global;return b(t)?0:O(t)},s.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const t=typeof globalThis>"u"?null:globalThis;return b(t)?0:O(t)},s.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const t=typeof self>"u"?null:self;return b(t)?0:O(t)},s.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const t=typeof window>"u"?null:window;return b(t)?0:O(t)},s.wbg.__wbg_status_f6360336ca686bf0=function(t){return t.status},s.wbg.__wbg_storage_07eb754b88898955=function(t){return t.storage},s.wbg.__wbg_stringify_f7ed6987935b4a24=function(){return y(function(t){return JSON.stringify(t)},arguments)},s.wbg.__wbg_subarray_aa9065fa9dc5df96=function(t,e,n){return t.subarray(e>>>0,n>>>0)},s.wbg.__wbg_text_7805bea50de2af49=function(){return y(function(t){return t.text()},arguments)},s.wbg.__wbg_then_44b73946d2fb3e7d=function(t,e){return t.then(e)},s.wbg.__wbg_then_48b406749878a531=function(t,e,n){return t.then(e,n)},s.wbg.__wbg_toString_ba82658ec370add0=function(){return y(function(t,e){return t.toString(e)},arguments)},s.wbg.__wbg_toU8Array_7fa7fb3ae8554ad0=function(t,e,n,_){x.toU8Array(t,e>>>0,n>>>0,_)},s.wbg.__wbg_toU8Slice_11519abfa5176ae4=function(t,e,n,_){x.toU8Slice(t,e,n>>>0,_>>>0)},s.wbg.__wbg_truncate_29261a6365c72b01=function(){return y(function(t,e){t.truncate(e>>>0)},arguments)},s.wbg.__wbg_truncate_4e1b09a0538f4ac4=function(){return y(function(t,e){t.truncate(e)},arguments)},s.wbg.__wbg_url_ae10c34ca209681d=function(t,e){const n=e.url,_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbg_value_cd1ffa7b1ab794f1=function(t){return t.value},s.wbg.__wbg_versions_c01dfd4722a88165=function(t){return t.versions},s.wbg.__wbg_view_fd8a56e8983f448d=function(t){const e=t.view;return b(e)?0:O(e)},s.wbg.__wbg_warn_4ca3906c248c47c4=function(t){console.warn(t)},s.wbg.__wbg_warn_aaf1f4664a035bd6=function(t,e,n,_){console.warn(t,e,n,_)},s.wbg.__wbg_write_530d3c84df874f53=function(){return y(function(t,e,n,_){return t.write(ct(e,n),_)},arguments)},s.wbg.__wbg_write_df271225cf2c4e20=function(){return y(function(t,e,n){return t.write(e,n)},arguments)},s.wbg.__wbindgen_array_new=function(){return[]},s.wbg.__wbindgen_array_push=function(t,e){t.push(e)},s.wbg.__wbindgen_bigint_from_i64=function(t){return t},s.wbg.__wbindgen_bigint_from_u64=function(t){return BigInt.asUintN(64,t)},s.wbg.__wbindgen_boolean_get=function(t){const e=t;return typeof e=="boolean"?e?1:0:2},s.wbg.__wbindgen_cb_drop=function(t){const e=t.original;return e.cnt--==1?(e.a=0,!0):!1},s.wbg.__wbindgen_closure_wrapper17370=function(t,e,n){return gt(t,e,4124,Me)},s.wbg.__wbindgen_closure_wrapper17530=function(t,e,n){return gt(t,e,4182,Fe)},s.wbg.__wbindgen_closure_wrapper20634=function(t,e,n){return gt(t,e,4488,De)},s.wbg.__wbindgen_closure_wrapper20744=function(t,e,n){return gt(t,e,4499,Pe)},s.wbg.__wbindgen_debug_string=function(t,e){const n=ft(e),_=l(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=g;k().setInt32(t+4*1,i,!0),k().setInt32(t+4*0,_,!0)},s.wbg.__wbindgen_error_new=function(t,e){return new Error(p(t,e))},s.wbg.__wbindgen_in=function(t,e){return t in e},s.wbg.__wbindgen_init_externref_table=function(){const t=r.__wbindgen_export_4,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)},s.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},s.wbg.__wbindgen_is_object=function(t){const e=t;return typeof e=="object"&&e!==null},s.wbg.__wbindgen_is_string=function(t){return typeof t=="string"},s.wbg.__wbindgen_is_undefined=function(t){return t===void 0},s.wbg.__wbindgen_jsval_loose_eq=function(t,e){return t==e},s.wbg.__wbindgen_memory=function(){return r.memory},s.wbg.__wbindgen_number_get=function(t,e){const n=e,_=typeof n=="number"?n:void 0;k().setFloat64(t+8*1,b(_)?0:_,!0),k().setInt32(t+4*0,!b(_),!0)},s.wbg.__wbindgen_number_new=function(t){return t},s.wbg.__wbindgen_string_get=function(t,e){const n=e,_=typeof n=="string"?n:void 0;var i=b(_)?0:l(_,r.__wbindgen_malloc,r.__wbindgen_realloc),a=g;k().setInt32(t+4*1,a,!0),k().setInt32(t+4*0,i,!0)},s.wbg.__wbindgen_string_new=function(t,e){return p(t,e)},s.wbg.__wbindgen_throw=function(t,e){throw new Error(p(t,e))},s.wbg.__wbindgen_try_into_number=function(t){let e;try{e=+t}catch(_){e=_}return e},s}function Ge(s,t){return r=s.exports,ue.__wbindgen_wasm_module=t,E=null,G=null,r.__wbindgen_start(),r}async function ue(s){if(r!==void 0)return r;typeof s<"u"&&(Object.getPrototypeOf(s)===Object.prototype?{module_or_path:s}=s:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof s>"u"&&(s=new URL("/chat-racfathers/assets/bindings_wasm_bg-CkrNS22d.wasm",self.location.href));const t=je();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:e,module:n}=await Ce(await s,t);return Ge(e,n)}class wt{constructor(t){ot(this,"authorityId");ot(this,"typeId");ot(this,"versionMajor");ot(this,"versionMinor");this.authorityId=t.authorityId,this.typeId=t.typeId,this.versionMajor=t.versionMajor,this.versionMinor=t.versionMinor}toString(){return`${this.authorityId}/${this.typeId}:${this.versionMajor}.${this.versionMinor}`}static fromString(t){const[e,n]=t.split(":"),[_,i]=e.split("/"),[a,u]=n.split(".");return new wt({authorityId:_,typeId:i,versionMajor:Number(a),versionMinor:Number(u)})}sameAs(t){return this.authorityId===t.authorityId&&this.typeId===t.typeId}}const de=s=>{return new L((t=s.type,new Y(t.authorityId,t.typeId,t.versionMajor,t.versionMinor)),new Map(Object.entries(s.parameters)),s.fallback,s.compression,s.content);var t},We=s=>{return{type:(t=s.type,{authorityId:t.authorityId,typeId:t.typeId,versionMajor:t.versionMajor,versionMinor:t.versionMinor}),parameters:s.parameters,fallback:s.fallback,compression:s.compression,content:s.content};var t},we=s=>{return{type:(t=s.type,new wt({authorityId:t.authorityId,typeId:t.typeId,versionMajor:t.versionMajor,versionMinor:t.versionMinor})),parameters:s.parameters,fallback:s.fallback,compression:s.compression,content:s.content};var t},lt=s=>{return{content:We((t=s.content,{type:(e=t.type,new wt({authorityId:e.authorityId,typeId:e.typeId,versionMajor:e.versionMajor,versionMinor:e.versionMinor})),parameters:Object.fromEntries(t.parameters),fallback:t.fallback,compression:t.compression,content:t.content})),convoId:s.convoId,deliveryStatus:s.deliveryStatus,id:s.id,kind:s.kind,senderInboxId:s.senderInboxId,sentAtNs:s.sentAtNs};var t,e},Gt=s=>new ie(s.consentStates,s.conversationType,s.createdAfterNs,s.createdBeforeNs,s.includeDuplicateDms??!1,s.limit),Wt=s=>{return new dt(s.permissions,s.name,s.imageUrlSquare,s.description,s.customPermissionPolicySet&&s.permissions===Te.CustomPolicy?(t=s.customPermissionPolicySet,new K(t.addMemberPolicy,t.removeMemberPolicy,t.addAdminPolicy,t.removeAdminPolicy,t.updateGroupNamePolicy,t.updateGroupDescriptionPolicy,t.updateGroupImageUrlSquarePolicy,t.updateMessageDisappearingPolicy)):void 0,s.messageDisappearingSettings?pe(s.messageDisappearingSettings):void 0);var t},le=s=>new kt(s.messageDisappearingSettings?pe(s.messageDisappearingSettings):void 0),D=async s=>{const t=s.id,e=s.name,n=s.imageUrl,_=s.description,i=s.permissions,a=s.isActive,u=s.addedByInboxId,o=await s.metadata(),d=s.admins,f=s.superAdmins,v=s.createdAtNs,R=i.policyType,F=i.policySet;return{id:t,name:e,imageUrl:n,description:_,permissions:{policyType:R,policySet:{addAdminPolicy:F.addAdminPolicy,addMemberPolicy:F.addMemberPolicy,removeAdminPolicy:F.removeAdminPolicy,removeMemberPolicy:F.removeMemberPolicy,updateGroupDescriptionPolicy:F.updateGroupDescriptionPolicy,updateGroupImageUrlSquarePolicy:F.updateGroupImageUrlSquarePolicy,updateGroupNamePolicy:F.updateGroupNamePolicy,updateMessageDisappearingPolicy:F.updateMessageDisappearingPolicy}},isActive:a,addedByInboxId:u,metadata:o,admins:d,superAdmins:f,createdAtNs:v}},Le=s=>({bytes:s.bytes,clientTimestampNs:s.clientTimestampNs,id:s.id}),Lt=s=>({accountIdentifiers:s.accountIdentifiers,inboxId:s.inboxId,installations:s.installations.map(Le),recoveryIdentifier:s.recoveryIdentifier}),qe=s=>({entity:s.entity,entityType:s.entityType,state:s.state}),Ee=s=>new ut(s.entityType,s.state,s.entity),Ke=s=>({key:s.key,epoch:s.epoch}),pe=s=>new z(s.fromNs,s.inNs),He=s=>({lifetime:s.lifetime?{notBefore:s.lifetime.not_before,notAfter:s.lifetime.not_after}:void 0,validationError:s.validationError});class $e extends Error{constructor(){super("Client not initialized, use Client.create or Client.build to create a client")}}class Ve extends Error{constructor(t){super(`Group "${t}" not found`)}}class Je extends Error{constructor(t){super(`Stream "${t}" not found`)}}const Ye={local:"http://localhost:5555",dev:"https://dev.xmtp.network",production:"https://production.xmtp.network"},fe={local:"http://localhost:5558",dev:"https://message-history.dev.ephemera.network",production:"https://message-history.production.ephemera.network"},Et=class Et{constructor(t,e){N(this,st);N(this,m);U(this,st,t),U(this,m,e)}get id(){return c(this,m).id()}get name(){return c(this,m).groupName()}async updateName(t){return c(this,m).updateGroupName(t)}get imageUrl(){return c(this,m).groupImageUrlSquare()}async updateImageUrl(t){return c(this,m).updateGroupImageUrlSquare(t)}get description(){return c(this,m).groupDescription()}async updateDescription(t){return c(this,m).updateGroupDescription(t)}get isActive(){return c(this,m).isActive()}get addedByInboxId(){return c(this,m).addedByInboxId()}get createdAtNs(){return c(this,m).createdAtNs()}async metadata(){const t=await c(this,m).groupMetadata();return{creatorInboxId:t.creatorInboxId(),conversationType:t.conversationType()}}async members(){return(await c(this,m).listMembers()).map(t=>(e=>({accountIdentifiers:e.accountIdentifiers,consentState:e.consentState,inboxId:e.inboxId,installationIds:e.installationIds,permissionLevel:e.permissionLevel}))(t))}get admins(){return c(this,m).adminList()}get superAdmins(){return c(this,m).superAdminList()}get permissions(){const t=c(this,m).groupPermissions();return{policyType:t.policyType(),policySet:t.policySet()}}async updatePermission(t,e,n){return c(this,m).updatePermissionPolicy(t,e,n)}isAdmin(t){return c(this,m).isAdmin(t)}isSuperAdmin(t){return c(this,m).isSuperAdmin(t)}async sync(){return c(this,m).sync()}async addMembersByIdentifiers(t){return c(this,m).addMembers(t)}async addMembers(t){return c(this,m).addMembersByInboxId(t)}async removeMembersByIdentifiers(t){return c(this,m).removeMembers(t)}async removeMembers(t){return c(this,m).removeMembersByInboxId(t)}async addAdmin(t){return c(this,m).addAdmin(t)}async removeAdmin(t){return c(this,m).removeAdmin(t)}async addSuperAdmin(t){return c(this,m).addSuperAdmin(t)}async removeSuperAdmin(t){return c(this,m).removeSuperAdmin(t)}async publishMessages(){return c(this,m).publishMessages()}sendOptimistic(t){return c(this,m).sendOptimistic(t)}async send(t){return c(this,m).send(t)}async messages(t){return c(this,m).findMessages(t?(e=>new zt(e.sentBeforeNs,e.sentAfterNs,e.limit,e.deliveryStatus,e.direction,e.contentTypes))(t):void 0)}get consentState(){return c(this,m).consentState()}updateConsentState(t){c(this,m).updateConsentState(t)}dmPeerInboxId(){return c(this,m).dmPeerInboxId()}messageDisappearingSettings(){return c(this,m).messageDisappearingSettings()}async updateMessageDisappearingSettings(t,e){const n=new z(t,e);return c(this,m).updateMessageDisappearingSettings(n)}async removeMessageDisappearingSettings(){return c(this,m).removeMessageDisappearingSettings()}isMessageDisappearingEnabled(){return c(this,m).isMessageDisappearingEnabled()}stream(t){return c(this,m).stream({on_message:e=>{t==null||t(null,e)},on_error:e=>{t==null||t(e,void 0)}})}pausedForVersion(){return c(this,m).pausedForVersion()}getHmacKeys(){return c(this,m).getHmacKeys()}async debugInfo(){return await c(this,m).getDebugInfo()}async getDuplicateDms(){return(await c(this,m).findDuplicateDms()).map(t=>new Et(c(this,st),t))}};st=new WeakMap,m=new WeakMap;let T=Et;class Qe{constructor(t,e){N(this,P);N(this,M);U(this,P,t),U(this,M,e)}async sync(){return c(this,M).sync()}async syncAll(t){return c(this,M).syncAllConversations(t)}getConversationById(t){try{const e=c(this,M).findGroupById(t);return new T(c(this,P),e)}catch{return}}getMessageById(t){try{return c(this,M).findMessageById(t)}catch{return}}getDmByInboxId(t){try{const e=c(this,M).findDmByTargetInboxId(t);return new T(c(this,P),e)}catch{return}}list(t){return c(this,M).list(t?Gt(t):void 0).map(e=>new T(c(this,P),e.conversation))}listGroups(t){return c(this,M).list(Gt({...t??{},conversationType:bt.Group})).map(e=>new T(c(this,P),e.conversation))}listDms(t){return c(this,M).list(Gt({...t??{},conversationType:bt.Dm})).map(e=>new T(c(this,P),e.conversation))}newGroupOptimistic(t){const e=c(this,M).createGroupOptimistic(t?Wt(t):void 0);return new T(c(this,P),e)}async newGroupWithIdentifiers(t,e){const n=await c(this,M).createGroup(t,e?Wt(e):void 0);return new T(c(this,P),n)}async newGroup(t,e){const n=await c(this,M).createGroupByInboxIds(t,e?Wt(e):void 0);return new T(c(this,P),n)}async newDmWithIdentifier(t,e){const n=await c(this,M).createDm(t,e?le(e):void 0);return new T(c(this,P),n)}async newDm(t,e){const n=await c(this,M).createDmByInboxId(t,e?le(e):void 0);return new T(c(this,P),n)}getHmacKeys(){return c(this,M).getHmacKeys()}stream(t,e){return c(this,M).stream({on_conversation:n=>{t==null||t(null,n)},on_error:n=>{t==null||t(n,void 0)}},e)}streamGroups(t){return c(this,M).stream(t,bt.Group)}streamDms(t){return c(this,M).stream(t,bt.Dm)}streamAllMessages(t,e,n){return c(this,M).streamAllMessages({on_message:_=>{t==null||t(null,_)},on_error:_=>{t==null||t(_,void 0)}},e,n)}}P=new WeakMap,M=new WeakMap;class Xe{constructor(t,e){N(this,j);N(this,Q);U(this,j,t),U(this,Q,e)}sync(){return c(this,j).syncPreferences()}async inboxState(t){return c(this,j).inboxState(t)}async inboxStateFromInboxIds(t,e){return c(this,j).inboxStateFromInboxIds(t,e??!1)}async getLatestInboxState(t){return c(this,j).getLatestInboxState(t)}async setConsentStates(t){return c(this,j).setConsentStates(t.map(Ee))}async getConsentState(t,e){return c(this,j).getConsentState(t,e)}streamConsent(t){return c(this,Q).streamConsent({on_consent_update:e=>{t==null||t(null,e)},on_error:e=>{t==null||t(e,void 0)}})}streamPreferences(t){return c(this,Q).streamPreferences({on_user_preference_update:e=>{t==null||t(null,e)},on_error:e=>{t==null||t(e,void 0)}})}}j=new WeakMap,Q=new WeakMap;const Kt=class Kt{constructor(t,e){N(this,S);N(this,_t);N(this,X);N(this,it);U(this,S,t);const n=t.conversations();U(this,_t,new Qe(this,n)),U(this,it,new Xe(t,n)),U(this,X,e)}static async create(t,e){const n=await(async(_,i)=>{const a=(i==null?void 0:i.env)||"dev",u=(i==null?void 0:i.apiUrl)||Ye[a],o=await ke(u,_)||Ae(_),d=(i==null?void 0:i.dbPath)===void 0?`xmtp-${a}-${o}.db3`:i.dbPath,f=i&&(i.loggingLevel!==void 0||i.structuredLogging||i.performanceLogging),v=(i==null?void 0:i.historySyncUrl)===void 0?fe[a]:i.historySyncUrl,R=i!=null&&i.disableDeviceSync?"disabled":"enabled";return xe(u,o,_,d,i==null?void 0:i.dbEncryptionKey,v,R,f?new ce(i.structuredLogging??!1,i.performanceLogging??!1,i.loggingLevel):void 0)})(t,e);return new Kt(n,e)}get accountIdentifier(){return c(this,S).accountIdentifier}get inboxId(){return c(this,S).inboxId}get installationId(){return c(this,S).installationId}get installationIdBytes(){return c(this,S).installationIdBytes}get isRegistered(){return c(this,S).isRegistered}get conversations(){return c(this,_t)}get preferences(){return c(this,it)}createInboxSignatureText(){try{return c(this,S).createInboxSignatureText()}catch{return}}async addAccountSignatureText(t){try{return await c(this,S).addWalletSignatureText(t)}catch{return}}async removeAccountSignatureText(t){try{return await c(this,S).revokeWalletSignatureText(t)}catch{return}}async revokeAllAOtherInstallationsSignatureText(){try{return await c(this,S).revokeAllOtherInstallationsSignatureText()}catch{return}}async revokeInstallationsSignatureText(t){try{return await c(this,S).revokeInstallationsSignatureText(t)}catch{return}}async changeRecoveryIdentifierSignatureText(t){try{return await c(this,S).changeRecoveryIdentifierSignatureText(t)}catch{return}}async addEcdsaSignature(t,e){return c(this,S).addEcdsaSignature(t,e)}async addScwSignature(t,e,n,_){return c(this,S).addScwSignature(t,e,n,_)}async applySignatures(){return c(this,S).applySignatureRequests()}async canMessage(t){return c(this,S).canMessage(t)}async registerIdentity(){return c(this,S).registerIdentity()}async findInboxIdByIdentifier(t){return c(this,S).findInboxIdByIdentifier(t)}signWithInstallationKey(t){return c(this,S).signWithInstallationKey(t)}verifySignedWithInstallationKey(t,e){try{return c(this,S).verifySignedWithInstallationKey(t,e),!0}catch{return!1}}verifySignedWithPublicKey(t,e,n){try{return Se(t,e,n),!0}catch{return!1}}async getKeyPackageStatusesForInstallationIds(t){return c(this,S).getKeyPackageStatusesForInstallationIds(t)}apiStatistics(){return c(this,S).apiStatistics()}apiIdentityStatistics(){return c(this,S).apiIdentityStatistics()}apiAggregateStatistics(){return c(this,S).apiAggregateStatistics()}async uploadDebugArchive(t){var _,i;const e=((_=c(this,X))==null?void 0:_.env)||"dev",n=((i=c(this,X))==null?void 0:i.historySyncUrl)||fe[e];return c(this,S).uploadDebugArchive(t||n)}};S=new WeakMap,_t=new WeakMap,X=new WeakMap,it=new WeakMap;let qt=Kt,$,me=!1;const V=new Map,w=s=>{self.postMessage(s)},nt=s=>{self.postMessage(s)},rt=s=>{self.postMessage(s)};self.onmessage=async s=>{var i;const{action:t,id:e,data:n}=s.data;me&&console.log("client worker received event data",s.data),await ue();try{if(t==="client.init"&&!$)return $=await qt.create(n.identifier,n.options),me=((i=n.options)==null?void 0:i.loggingLevel)!==void 0&&n.options.loggingLevel!=="off",void w({id:e,action:t,result:{inboxId:$.inboxId,installationId:$.installationId,installationIdBytes:$.installationIdBytes}});if(!$)throw new $e;const a=$,u=o=>{const d=a.conversations.getConversationById(o);if(!d)throw new Ve(o);return d};switch(t){case"endStream":{const o=V.get(n.streamId);if(!o)throw new Je(n.streamId);o.end(),V.delete(n.streamId),w({id:e,action:t,result:void 0});break}case"client.createInboxSignatureText":{const o=a.createInboxSignatureText();w({id:e,action:t,result:o});break}case"client.addAccountSignatureText":{const o=await a.addAccountSignatureText(n.newIdentifier);w({id:e,action:t,result:o});break}case"client.removeAccountSignatureText":{const o=await a.removeAccountSignatureText(n.identifier);w({id:e,action:t,result:o});break}case"client.revokeAllOtherInstallationsSignatureText":{const o=await a.revokeAllAOtherInstallationsSignatureText();w({id:e,action:t,result:o});break}case"client.revokeInstallationsSignatureText":{const o=await a.revokeInstallationsSignatureText(n.installationIds);w({id:e,action:t,result:o});break}case"client.changeRecoveryIdentifierSignatureText":{const o=await a.changeRecoveryIdentifierSignatureText(n.identifier);w({id:e,action:t,result:o});break}case"client.addEcdsaSignature":await a.addEcdsaSignature(n.type,n.bytes),w({id:e,action:t,result:void 0});break;case"client.addScwSignature":await a.addScwSignature(n.type,n.bytes,n.chainId,n.blockNumber),w({id:e,action:t,result:void 0});break;case"client.applySignatures":await a.applySignatures(),w({id:e,action:t,result:void 0});break;case"client.registerIdentity":await a.registerIdentity(),w({id:e,action:t,result:void 0});break;case"client.isRegistered":{const o=a.isRegistered;w({id:e,action:t,result:o});break}case"client.canMessage":{const o=await a.canMessage(n.identifiers);w({id:e,action:t,result:o});break}case"client.findInboxIdByIdentifier":{const o=await a.findInboxIdByIdentifier(n.identifier);w({id:e,action:t,result:o});break}case"client.signWithInstallationKey":{const o=a.signWithInstallationKey(n.signatureText);w({id:e,action:t,result:o});break}case"client.verifySignedWithInstallationKey":{const o=a.verifySignedWithInstallationKey(n.signatureText,n.signatureBytes);w({id:e,action:t,result:o});break}case"client.verifySignedWithPublicKey":{const o=a.verifySignedWithPublicKey(n.signatureText,n.signatureBytes,n.publicKey);w({id:e,action:t,result:o});break}case"client.getKeyPackageStatusesForInstallationIds":{const o=await a.getKeyPackageStatusesForInstallationIds(n.installationIds),d=new Map(Array.from(o.entries()).map(([f,v])=>[f,He(v)]));w({id:e,action:t,result:d});break}case"client.apiStatistics":{const o=a.apiStatistics(),d={uploadKeyPackage:(_=o).upload_key_package,fetchKeyPackage:_.fetch_key_package,sendGroupMessages:_.send_group_messages,sendWelcomeMessages:_.send_welcome_messages,queryGroupMessages:_.query_group_messages,queryWelcomeMessages:_.query_welcome_messages,subscribeMessages:_.subscribe_messages,subscribeWelcomes:_.subscribe_welcomes};w({id:e,action:t,result:d});break}case"client.apiIdentityStatistics":{const o=(d=>({getIdentityUpdatesV2:d.get_identity_updates_v2,getInboxIds:d.get_inbox_ids,publishIdentityUpdate:d.publish_identity_update,verifySmartContractWalletSignature:d.verify_smart_contract_wallet_signature}))(a.apiIdentityStatistics());w({id:e,action:t,result:o});break}case"client.apiAggregateStatistics":{const o=a.apiAggregateStatistics();w({id:e,action:t,result:o});break}case"client.uploadDebugArchive":{const o=await a.uploadDebugArchive(n.serverUrl);w({id:e,action:t,result:o});break}case"preferences.inboxState":{const o=await a.preferences.inboxState(n.refreshFromNetwork),d=Lt(o);w({id:e,action:t,result:d});break}case"preferences.inboxStateFromInboxIds":{const o=(await a.preferences.inboxStateFromInboxIds(n.inboxIds,n.refreshFromNetwork)).map(Lt);w({id:e,action:t,result:o});break}case"preferences.getLatestInboxState":{const o=await a.preferences.getLatestInboxState(n.inboxId),d=Lt(o);w({id:e,action:t,result:d});break}case"preferences.setConsentStates":await a.preferences.setConsentStates(n.records),w({id:e,action:t,result:void 0});break;case"preferences.getConsentState":{const o=await a.preferences.getConsentState(n.entityType,n.entity);w({id:e,action:t,result:o});break}case"preferences.sync":{const o=await a.preferences.sync();w({id:e,action:t,result:o});break}case"preferences.streamConsent":{const o=(f,v)=>{f?rt({action:"stream.consent",streamId:n.streamId,error:f}):nt({action:"stream.consent",streamId:n.streamId,result:(v==null?void 0:v.map(qe))??[]})},d=a.preferences.streamConsent(o);V.set(n.streamId,d),w({id:e,action:t,result:void 0});break}case"preferences.streamPreferences":{const o=(f,v)=>{f?rt({action:"stream.preferences",streamId:n.streamId,error:f}):nt({action:"stream.preferences",streamId:n.streamId,result:v??void 0})},d=a.preferences.streamPreferences(o);V.set(n.streamId,d),w({id:e,action:t,result:void 0});break}case"conversations.stream":{const o=async(f,v)=>{f?rt({action:"stream.conversation",streamId:n.streamId,error:f}):nt({action:"stream.conversation",streamId:n.streamId,result:v?await D(new T(a,v)):void 0})},d=a.conversations.stream(o,n.conversationType);V.set(n.streamId,d),w({id:e,action:t,result:void 0});break}case"conversations.streamAllMessages":{const o=(f,v)=>{f?rt({action:"stream.message",streamId:n.streamId,error:f}):nt({action:"stream.message",streamId:n.streamId,result:v?lt(v):void 0})},d=a.conversations.streamAllMessages(o,n.conversationType,n.consentStates);V.set(n.streamId,d),w({id:e,action:t,result:void 0});break}case"conversations.list":{const o=a.conversations.list(n.options),d=await Promise.all(o.map(f=>D(f)));w({id:e,action:t,result:d});break}case"conversations.listGroups":{const o=a.conversations.listGroups(n.options),d=await Promise.all(o.map(f=>D(f)));w({id:e,action:t,result:d});break}case"conversations.listDms":{const o=a.conversations.listDms(n.options),d=await Promise.all(o.map(f=>D(f)));w({id:e,action:t,result:d});break}case"conversations.newGroupOptimistic":{const o=a.conversations.newGroupOptimistic(n.options),d=await D(o);w({id:e,action:t,result:d});break}case"conversations.newGroupWithIdentifiers":{const o=await a.conversations.newGroupWithIdentifiers(n.identifiers,n.options),d=await D(o);w({id:e,action:t,result:d});break}case"conversations.newGroup":{const o=await a.conversations.newGroup(n.inboxIds,n.options),d=await D(o);w({id:e,action:t,result:d});break}case"conversations.newDmWithIdentifier":{const o=await a.conversations.newDmWithIdentifier(n.identifier,n.options),d=await D(o);w({id:e,action:t,result:d});break}case"conversations.newDm":{const o=await a.conversations.newDm(n.inboxId,n.options),d=await D(o);w({id:e,action:t,result:d});break}case"conversations.sync":await a.conversations.sync(),w({id:e,action:t,result:void 0});break;case"conversations.syncAll":await a.conversations.syncAll(n.consentStates),w({id:e,action:t,result:void 0});break;case"conversations.getConversationById":{const o=a.conversations.getConversationById(n.id),d=o?await D(o):void 0;w({id:e,action:t,result:d});break}case"conversations.getMessageById":{const o=a.conversations.getMessageById(n.id),d=o?lt(o):void 0;w({id:e,action:t,result:d});break}case"conversations.getDmByInboxId":{const o=a.conversations.getDmByInboxId(n.inboxId),d=o?await D(o):void 0;w({id:e,action:t,result:d});break}case"conversations.getHmacKeys":{const o=a.conversations.getHmacKeys(),d=Object.fromEntries(Array.from(o.entries()).map(([f,v])=>[f,v.map(Ke)]));w({id:e,action:t,result:d});break}case"conversation.sync":{const o=u(n.id);await o.sync();const d=await D(o);w({id:e,action:t,result:d});break}case"conversation.consentState":{const o=u(n.id).consentState;w({id:e,action:t,result:o});break}case"conversation.updateConsentState":u(n.id).updateConsentState(n.state),w({id:e,action:t,result:void 0});break;case"group.updateName":{await u(n.id).updateName(n.name),w({id:e,action:t,result:void 0});break}case"group.updateDescription":{await u(n.id).updateDescription(n.description),w({id:e,action:t,result:void 0});break}case"group.updateImageUrl":{await u(n.id).updateImageUrl(n.imageUrl),w({id:e,action:t,result:void 0});break}case"conversation.send":{const o=u(n.id),d=await o.send(de(we(n.content)));w({id:e,action:t,result:d});break}case"conversation.sendOptimistic":{const o=u(n.id).sendOptimistic(de(we(n.content)));w({id:e,action:t,result:o});break}case"conversation.publishMessages":{await u(n.id).publishMessages(),w({id:e,action:t,result:void 0});break}case"conversation.messages":{const o=u(n.id),d=(await o.messages(n.options)).map(f=>lt(f));w({id:e,action:t,result:d});break}case"conversation.members":{const o=u(n.id),d=await o.members();w({id:e,action:t,result:d});break}case"group.listAdmins":{const o=u(n.id).admins;w({id:e,action:t,result:o});break}case"group.listSuperAdmins":{const o=u(n.id).superAdmins;w({id:e,action:t,result:o});break}case"group.addAdmin":{await u(n.id).addAdmin(n.inboxId),w({id:e,action:t,result:void 0});break}case"group.removeAdmin":{await u(n.id).removeAdmin(n.inboxId),w({id:e,action:t,result:void 0});break}case"group.addSuperAdmin":{await u(n.id).addSuperAdmin(n.inboxId),w({id:e,action:t,result:void 0});break}case"group.removeSuperAdmin":{await u(n.id).removeSuperAdmin(n.inboxId),w({id:e,action:t,result:void 0});break}case"group.addMembersByIdentifiers":{await u(n.id).addMembersByIdentifiers(n.identifiers),w({id:e,action:t,result:void 0});break}case"group.removeMembersByIdentifiers":{await u(n.id).removeMembersByIdentifiers(n.identifiers),w({id:e,action:t,result:void 0});break}case"group.addMembers":{await u(n.id).addMembers(n.inboxIds),w({id:e,action:t,result:void 0});break}case"group.removeMembers":{await u(n.id).removeMembers(n.inboxIds),w({id:e,action:t,result:void 0});break}case"group.isAdmin":{const o=u(n.id).isAdmin(n.inboxId);w({id:e,action:t,result:o});break}case"group.isSuperAdmin":{const o=u(n.id).isSuperAdmin(n.inboxId);w({id:e,action:t,result:o});break}case"dm.peerInboxId":{const o=u(n.id).dmPeerInboxId();w({id:e,action:t,result:o});break}case"group.updatePermission":{await u(n.id).updatePermission(n.permissionType,n.policy,n.metadataField),w({id:e,action:t,result:void 0});break}case"group.permissions":{const o=u(n.id),d=(await D(o)).permissions;w({id:e,action:t,result:d});break}case"conversation.messageDisappearingSettings":{const o=u(n.id).messageDisappearingSettings(),d=o?(f=>({fromNs:f.fromNs,inNs:f.inNs}))(o):void 0;w({id:e,action:t,result:d});break}case"conversation.updateMessageDisappearingSettings":{await u(n.id).updateMessageDisappearingSettings(n.fromNs,n.inNs),w({id:e,action:t,result:void 0});break}case"conversation.removeMessageDisappearingSettings":{await u(n.id).removeMessageDisappearingSettings(),w({id:e,action:t,result:void 0});break}case"conversation.isMessageDisappearingEnabled":{const o=u(n.id).isMessageDisappearingEnabled();w({id:e,action:t,result:o});break}case"conversation.stream":{const o=u(n.groupId),d=(v,R)=>{v?rt({action:"stream.message",streamId:n.streamId,error:v}):nt({action:"stream.message",streamId:n.streamId,result:R?lt(R):void 0})},f=o.stream(d);V.set(n.streamId,f),w({id:e,action:t,result:void 0});break}case"conversation.pausedForVersion":{const o=u(n.id).pausedForVersion();w({id:e,action:t,result:o});break}case"conversation.getHmacKeys":{const o=u(n.id).getHmacKeys();w({id:e,action:t,result:o});break}case"dm.getDuplicateDms":{const o=u(n.id),d=await o.getDuplicateDms(),f=await Promise.all(d.map(v=>D(v)));w({id:e,action:t,result:f});break}case"conversation.debugInfo":{const o=u(n.id),d=(f=>({epoch:f.epoch,maybeForked:f.maybeForked,forkDetails:f.forkDetails}))(await o.debugInfo());w({id:e,action:t,result:d});break}}}catch(a){(u=>{self.postMessage(u)})({id:e,action:t,error:a})}var _}})();
